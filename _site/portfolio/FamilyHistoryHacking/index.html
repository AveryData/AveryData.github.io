<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.19.1 by Michael Rose
  Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Family History Hacking - (A)Very Data</title>
<meta name="description" content="Rethinking the family tree - just when you thought genealogy couldn’t get more exciting. ">


  <meta name="author" content="Avery Smith">


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="(A)Very Data">
<meta property="og:title" content="Family History Hacking">
<meta property="og:url" content="http://localhost:4000/portfolio/FamilyHistoryHacking/">


  <meta property="og:description" content="Rethinking the family tree - just when you thought genealogy couldn’t get more exciting. ">



  <meta property="og:image" content="http://localhost:4000/Images/Family%20History%20Hacking/NameCloudTreeSmith.png">





  <meta property="article:published_time" content="2020-07-03T09:53:06-05:00">





  

  


<link rel="canonical" href="http://localhost:4000/portfolio/FamilyHistoryHacking/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "Avery Smith",
      "url": "http://localhost:4000/"
    
  }
</script>






<!-- end _includes/seo.html -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="(A)Very Data Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<!--[if IE]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          (A)Very Data
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/about/">About</a>
            </li><li class="masthead__menu-item">
              <a href="/portfolio/">Portfolio</a>
            </li><li class="masthead__menu-item">
              <a href="/learning/">Learning</a>
            </li><li class="masthead__menu-item">
              <a href="/thingsilike/">Things I like</a>
            </li></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      
        <img src="/Images/PicturesOfMe/ProfPic_Best.JPG" alt="Avery Smith" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">Avery Smith</h3>
    
    
      <div class="author__bio" itemprop="description">
        <p>My adventure in Data Science and Analytics</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name">Houston, TX</span>
        </li>
      

      
        
          
            <li><a href="mailto:averyjs@gmail.com" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i><span class="label">Email</span></a></li>
          
        
          
        
          
            <li><a href="https://twitter.com/A_Very_Data" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i><span class="label">Twitter</span></a></li>
          
        
          
        
          
            <li><a href="https://github.com/AveryData?tab=repositories" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">GitHub</span></a></li>
          
        
          
            <li><a href="https://instagram.com/verydata_365" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-instagram" aria-hidden="true"></i><span class="label">Instagram</span></a></li>
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Family History Hacking">
    <meta itemprop="description" content="Rethinking the family tree - just when you thought genealogy couldn’t get more exciting.">
    
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Family History Hacking
</h1>
          
            <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  9 minute read

</p>
          
        </header>
      

      <section class="page__content" itemprop="text">
        
        <figure class="">
  <img src="/Images/Family%20History%20Hacking/NameCloudTreeSmith.png" alt="this is a placeholder image" />
  
</figure>

<p>Genealogy often gets a boring rap, but knowing where you come from and who made you can be fun and exciting. Family history is big in my family, and in my culture so I thought, “This is a lot of data. What else can you do with it? How else can you display it?”</p>

<p>Genealogy is mainly just information. The most important informations are: 1) Name 2) Relation to you (and to other relatives) 3) Years Lived. Some other things you might be interested in are: what did they look like, where did they live, when were they buried or baptized or married (big life events). You might want to know where there grave is. You might want any journalism that talks about them. Basically, genealogy is anything that will tell you about your ancestors.</p>

<p>The fundamental map for understanding genealogy is the family tree. This is a tree that ties you, to your parents, and to their parents, and so forth until you can’t go back any more.This is what a family tree usually looks like:</p>

<figure class="">
  <img src="/Images/Family%20History%20Hacking/Family%20Tree%20Landscape.png" alt="this is a placeholder image" />
  
    <figcaption>
      Typical family tree (taken from FamilySearch.org)

    </figcaption>
  
</figure>

<p>There are other versions that look more like a fan, such as this:</p>
<figure class="">
  <img src="/Images/Family%20History%20Hacking/Family%20Tree%20Fan%20Chart.png" alt="this is a placeholder image" />
  
    <figcaption>
      Typical family tree fan chart (taken from FamilySearch.org)

    </figcaption>
  
</figure>

<p><a href="http://familysearch.org">FamilySearch.org</a> is the website I use for family history. It is well organized and dependable. It allows you to search records such as church books or government census to find traces of your ancestors and document them. It also serves as a storage location for all your memories of ancestors, and your long lost 4th cousin’s memories of their ancestors. It is open-sourced and people can add written stories, audio tapes, pictures, and memorabilia with their ancestors being remembered.</p>

<p>With that being said, I set off to see if I could scrape FamilySerach.org and pull together my family tree and do somethings with it.</p>

<p>After some Google-Fu and experimentation, I stubbled upon <a href="https://github.com/Linekio/getmyancestors">https://github.com/Linekio/getmyancestors</a>. This Python package allows you to sign into FamilySearch and use their API to pull data. It exports everything as a GEDCOM file. If your’e scratching your head and wondering, ‘What’s a GEDCOM file?’, you’re not alone. It’s a structured text file that has things in a certain format specifically for genealogy. Here’s an example of how GEDCOM files look:</p>

<p>There are other versions that look more like a fan, such as this:</p>
<figure class="">
  <img src="/Images/Family%20History%20Hacking/GedComExample.png" alt="this is a placeholder image" />
  
    <figcaption>
      Example of Gedcom - the typical family history file type

    </figcaption>
  
</figure>

<p>Once I had the GEDCOM file, I Google-d around more for a GEDCOM reader. I knew software had to be out there to parse this file for me. Played with some free software and some Python libraries, but didn’t get very far and decided it would just be faster to write my own in Python. Plus, at work, I’ve been mainly using JMP and in school, I mostly used R this semester so I thought it appropriate to spend a little time with my lost friend.</p>

<p>Here’s what the script ended up looking like:</p>

<h4 id="python-script">Python Script</h4>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">"""
Created on Thu Dec 12 19:14:55 2019

@author: averysmith
"""</span>

<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="n">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>



<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s">"Avery12GenerationFamily.xlsx"</span><span class="p">)</span>

<span class="c1"># Find the inidividuals
</span><span class="n">x</span> <span class="o">=</span> <span class="n">df</span><span class="p">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s">'Value'</span><span class="p">].</span><span class="n">isin</span><span class="p">([</span><span class="s">'INDI'</span><span class="p">,</span><span class="s">'@ INDI'</span><span class="p">,</span> <span class="s">'2@ INDI'</span><span class="p">,</span><span class="s">'3@ INDI'</span><span class="p">,</span> <span class="s">'4@ INDI'</span><span class="p">,</span><span class="s">'5@ INDI'</span><span class="p">,</span><span class="s">'6@ INDI'</span><span class="p">,</span><span class="s">'7@ INDI'</span><span class="p">,</span><span class="s">'8@ INDI'</span><span class="p">,</span><span class="s">'9@ INDI'</span><span class="p">,</span><span class="s">'10@ INDI'</span><span class="p">])]</span>


<span class="n">df</span><span class="p">[</span><span class="s">'Cat'</span><span class="p">][</span><span class="n">x</span><span class="p">.</span><span class="n">index</span><span class="p">]</span> <span class="o">=</span> <span class="s">'Person Change'</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s">'Cat'</span><span class="p">].</span><span class="n">isin</span><span class="p">([</span><span class="s">'NAME'</span><span class="p">,</span><span class="s">'SEX'</span><span class="p">,</span><span class="s">'BIRT'</span><span class="p">,</span><span class="s">'DATE'</span><span class="p">,</span><span class="s">'LATI'</span><span class="p">,</span><span class="s">'LONG'</span><span class="p">,</span>
            <span class="s">'RESI'</span><span class="p">,</span><span class="s">'PLAC'</span><span class="p">,</span><span class="s">'DEAT'</span><span class="p">,</span><span class="s">'Person Change'</span><span class="p">,</span> <span class="s">'CHR'</span><span class="p">,</span> <span class="s">'BURI'</span><span class="p">,</span><span class="s">'EVEN'</span><span class="p">])]</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="n">zeros</span> <span class="o">=</span> <span class="n">df</span><span class="p">.</span><span class="n">index</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s">'Nums'</span><span class="p">]</span><span class="o">==</span><span class="mi">0</span><span class="p">]</span>


<span class="c1"># Person Id
</span><span class="n">person_id</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">zeros</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
    <span class="n">length_person</span> <span class="o">=</span> <span class="n">zeros</span><span class="p">[</span><span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">zeros</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
    <span class="n">person_id</span><span class="p">.</span><span class="n">extend</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="n">ones</span><span class="p">(</span><span class="n">length_person</span><span class="p">)</span><span class="o">*</span><span class="n">j</span><span class="p">)</span>
    <span class="c1">#print(person_id)
</span>
<span class="c1"># add the last one
</span><span class="n">last_length</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">)</span> <span class="o">-</span> <span class="n">zeros</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">person_id</span><span class="p">.</span><span class="n">extend</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="n">ones</span><span class="p">(</span><span class="n">last_length</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>

<span class="n">df</span><span class="p">[</span><span class="s">'Person ID'</span><span class="p">]</span> <span class="o">=</span> <span class="n">person_id</span>


<span class="n">df</span><span class="p">[</span><span class="s">'Event ID'</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">zeros</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">))</span>

<span class="c1"># Create blank dataframe
</span><span class="n">df_clean</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s">'Name'</span><span class="p">,</span><span class="s">'Gender'</span><span class="p">,</span><span class="s">'Birthday'</span><span class="p">,</span><span class="s">'Birth Place'</span><span class="p">,</span> <span class="s">'Birth Lat'</span><span class="p">,</span><span class="s">'Birth Lon'</span><span class="p">,</span> <span class="s">'Deathday'</span><span class="p">,</span> <span class="s">'Death Place'</span><span class="p">,</span> <span class="s">'Death Lon'</span><span class="p">,</span> <span class="s">'Death Lat'</span><span class="p">])</span>

<span class="c1"># Get all names
</span><span class="n">df_name</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s">'Cat'</span><span class="p">]</span> <span class="o">==</span> <span class="s">'NAME'</span><span class="p">]</span>

<span class="c1">#  Go through each person
</span><span class="n">unique_people</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">unique</span><span class="p">(</span><span class="n">person_id</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">unique_people</span><span class="p">)):</span>
    <span class="c1"># Make person df
</span>    <span class="n">df_person</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s">'Person ID'</span><span class="p">]</span> <span class="o">==</span> <span class="n">unique_people</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span>
    <span class="n">df_person</span> <span class="o">=</span> <span class="n">df_person</span><span class="p">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

    <span class="c1"># Find Name
</span>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">df_person</span><span class="p">[</span><span class="n">df_person</span><span class="p">[</span><span class="s">'Cat'</span><span class="p">]</span> <span class="o">==</span> <span class="s">'NAME'</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>

        <span class="n">name_person</span> <span class="o">=</span> <span class="n">df_person</span><span class="p">[</span><span class="n">df_person</span><span class="p">[</span><span class="s">'Cat'</span><span class="p">]</span> <span class="o">==</span> <span class="s">'NAME'</span><span class="p">][</span><span class="s">'Value'</span><span class="p">][</span><span class="nb">min</span><span class="p">(</span><span class="n">df_person</span><span class="p">[</span><span class="n">df_person</span><span class="p">[</span><span class="s">'Cat'</span><span class="p">]</span> <span class="o">==</span> <span class="s">'NAME'</span><span class="p">][</span><span class="s">'Value'</span><span class="p">].</span><span class="n">index</span><span class="p">)]</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="n">name_person</span> <span class="o">=</span> <span class="n">df_person</span><span class="p">[</span><span class="n">df_person</span><span class="p">[</span><span class="s">'Cat'</span><span class="p">]</span> <span class="o">==</span> <span class="s">'NAME'</span><span class="p">][</span><span class="s">'Value'</span><span class="p">].</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">print</span><span class="p">(</span><span class="n">name_person</span><span class="p">)</span>

    <span class="c1"># Find Sex
</span>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">df_person</span><span class="p">[</span><span class="n">df_person</span><span class="p">[</span><span class="s">'Cat'</span><span class="p">]</span> <span class="o">==</span> <span class="s">'SEX'</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">sex_person</span> <span class="o">=</span> <span class="n">df_person</span><span class="p">[</span><span class="n">df_person</span><span class="p">[</span><span class="s">'Cat'</span><span class="p">]</span> <span class="o">==</span> <span class="s">'SEX'</span><span class="p">][</span><span class="s">'Value'</span><span class="p">].</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">sex_person</span> <span class="o">=</span> <span class="s">'NaN'</span>

    <span class="c1"># Find Birthday stuff
</span>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">df_person</span><span class="p">[</span><span class="n">df_person</span><span class="p">[</span><span class="s">'Cat'</span><span class="p">]</span> <span class="o">==</span> <span class="s">'BIRT'</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">ones</span> <span class="o">=</span> <span class="n">df_person</span><span class="p">.</span><span class="n">index</span><span class="p">[</span><span class="n">df_person</span><span class="p">[</span><span class="s">'Nums'</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">ones</span> <span class="o">=</span> <span class="n">ones</span><span class="p">.</span><span class="n">to_series</span><span class="p">()</span>
        <span class="n">ones</span> <span class="o">=</span> <span class="n">ones</span><span class="p">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
        <span class="n">birt_idx_big</span> <span class="o">=</span> <span class="n">df_person</span><span class="p">.</span><span class="n">index</span><span class="p">[</span><span class="n">df_person</span><span class="p">[</span><span class="s">'Cat'</span><span class="p">]</span><span class="o">==</span><span class="s">'BIRT'</span><span class="p">].</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># find the Birthday
</span>        <span class="n">birt_idx_small</span> <span class="o">=</span> <span class="n">ones</span><span class="p">.</span><span class="n">index</span><span class="p">[</span><span class="n">ones</span> <span class="o">==</span> <span class="n">birt_idx_big</span><span class="p">].</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">birt_idx_big</span> <span class="o">==</span> <span class="nb">max</span><span class="p">(</span><span class="n">ones</span><span class="p">):</span>
            <span class="n">birt_idx_end</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">df_person</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">birt_idx_end</span> <span class="o">=</span> <span class="n">ones</span><span class="p">[</span><span class="n">birt_idx_small</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>

        <span class="n">birht_ID</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">df_person</span><span class="p">[</span><span class="s">'Event ID'</span><span class="p">][</span><span class="n">birt_idx_big</span><span class="p">:</span><span class="n">birt_idx_end</span><span class="p">]</span> <span class="o">=</span> <span class="n">birht_ID</span>

            <span class="c1"># Filter down on birthday
</span>        <span class="n">df_birthday</span> <span class="o">=</span> <span class="n">df_person</span><span class="p">[</span><span class="n">df_person</span><span class="p">[</span><span class="s">'Event ID'</span><span class="p">]</span> <span class="o">==</span><span class="n">birht_ID</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">subdata</span> <span class="ow">in</span> <span class="n">df_birthday</span><span class="p">[</span><span class="s">'Cat'</span><span class="p">]:</span>

            <span class="k">if</span> <span class="n">subdata</span> <span class="o">==</span> <span class="s">'BIRT'</span><span class="p">:</span>
                <span class="n">x</span> <span class="o">=</span> <span class="mi">5</span>
            <span class="k">if</span> <span class="n">subdata</span> <span class="o">==</span> <span class="s">'DATE'</span><span class="p">:</span>
                <span class="n">birth_date</span> <span class="o">=</span> <span class="n">df_birthday</span><span class="p">[</span><span class="n">df_birthday</span><span class="p">[</span><span class="s">'Cat'</span><span class="p">]</span> <span class="o">==</span> <span class="n">subdata</span><span class="p">][</span><span class="s">'Value'</span><span class="p">].</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">subdata</span> <span class="o">==</span> <span class="s">'PLAC'</span><span class="p">:</span>
                <span class="n">birth_place</span> <span class="o">=</span> <span class="n">df_birthday</span><span class="p">[</span><span class="n">df_birthday</span><span class="p">[</span><span class="s">'Cat'</span><span class="p">]</span> <span class="o">==</span> <span class="n">subdata</span><span class="p">][</span><span class="s">'Value'</span><span class="p">].</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

            <span class="k">if</span> <span class="n">subdata</span> <span class="o">==</span> <span class="s">'LATI'</span><span class="p">:</span>
                <span class="n">birth_lati</span> <span class="o">=</span> <span class="n">df_birthday</span><span class="p">[</span><span class="n">df_birthday</span><span class="p">[</span><span class="s">'Cat'</span><span class="p">]</span> <span class="o">==</span> <span class="n">subdata</span><span class="p">][</span><span class="s">'Value'</span><span class="p">].</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

            <span class="k">if</span> <span class="n">subdata</span> <span class="o">==</span> <span class="s">'LONG'</span><span class="p">:</span>
                <span class="n">birth_long</span> <span class="o">=</span> <span class="n">df_birthday</span><span class="p">[</span><span class="n">df_birthday</span><span class="p">[</span><span class="s">'Cat'</span><span class="p">]</span> <span class="o">==</span> <span class="n">subdata</span><span class="p">][</span><span class="s">'Value'</span><span class="p">].</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>



    <span class="k">else</span><span class="p">:</span>
        <span class="n">birth_date</span> <span class="o">=</span> <span class="s">'NaN'</span>
        <span class="n">birth_place</span> <span class="o">=</span> <span class="s">'NaN'</span>
        <span class="n">birth_lati</span> <span class="o">=</span> <span class="s">'NaN'</span>
        <span class="n">birth_long</span> <span class="o">=</span> <span class="s">'NaN'</span>


    <span class="c1"># Find Death stuff
</span>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">df_person</span><span class="p">[</span><span class="n">df_person</span><span class="p">[</span><span class="s">'Cat'</span><span class="p">]</span> <span class="o">==</span> <span class="s">'DEAT'</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">ones</span> <span class="o">=</span> <span class="n">df_person</span><span class="p">.</span><span class="n">index</span><span class="p">[</span><span class="n">df_person</span><span class="p">[</span><span class="s">'Nums'</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">ones</span> <span class="o">=</span> <span class="n">ones</span><span class="p">.</span><span class="n">to_series</span><span class="p">()</span>
        <span class="n">ones</span> <span class="o">=</span> <span class="n">ones</span><span class="p">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
        <span class="n">birt_idx_big</span> <span class="o">=</span> <span class="n">df_person</span><span class="p">.</span><span class="n">index</span><span class="p">[</span><span class="n">df_person</span><span class="p">[</span><span class="s">'Cat'</span><span class="p">]</span><span class="o">==</span><span class="s">'DEAT'</span><span class="p">].</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># find the Birthday
</span>        <span class="n">birt_idx_small</span> <span class="o">=</span> <span class="n">ones</span><span class="p">.</span><span class="n">index</span><span class="p">[</span><span class="n">ones</span> <span class="o">==</span> <span class="n">birt_idx_big</span><span class="p">].</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">birt_idx_big</span> <span class="o">==</span> <span class="nb">max</span><span class="p">(</span><span class="n">ones</span><span class="p">):</span>
            <span class="n">birt_idx_end</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">df_person</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">birt_idx_end</span> <span class="o">=</span> <span class="n">ones</span><span class="p">[</span><span class="n">birt_idx_small</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>

        <span class="n">birht_ID</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">df_person</span><span class="p">[</span><span class="s">'Event ID'</span><span class="p">][</span><span class="n">birt_idx_big</span><span class="p">:</span><span class="n">birt_idx_end</span><span class="p">]</span> <span class="o">=</span> <span class="n">birht_ID</span>

            <span class="c1"># Filter down on birthday
</span>        <span class="n">df_birthday</span> <span class="o">=</span> <span class="n">df_person</span><span class="p">[</span><span class="n">df_person</span><span class="p">[</span><span class="s">'Event ID'</span><span class="p">]</span> <span class="o">==</span><span class="n">birht_ID</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">subdata</span> <span class="ow">in</span> <span class="n">df_birthday</span><span class="p">[</span><span class="s">'Cat'</span><span class="p">]:</span>

            <span class="k">if</span> <span class="n">subdata</span> <span class="o">==</span> <span class="s">'DEAT'</span><span class="p">:</span>
                <span class="n">x</span> <span class="o">=</span> <span class="mi">5</span>
            <span class="k">if</span> <span class="n">subdata</span> <span class="o">==</span> <span class="s">'DATE'</span><span class="p">:</span>
                <span class="n">DEAT_date</span> <span class="o">=</span> <span class="n">df_birthday</span><span class="p">[</span><span class="n">df_birthday</span><span class="p">[</span><span class="s">'Cat'</span><span class="p">]</span> <span class="o">==</span> <span class="n">subdata</span><span class="p">][</span><span class="s">'Value'</span><span class="p">].</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">subdata</span> <span class="o">==</span> <span class="s">'PLAC'</span><span class="p">:</span>
                <span class="n">DEAT_place</span> <span class="o">=</span> <span class="n">df_birthday</span><span class="p">[</span><span class="n">df_birthday</span><span class="p">[</span><span class="s">'Cat'</span><span class="p">]</span> <span class="o">==</span> <span class="n">subdata</span><span class="p">][</span><span class="s">'Value'</span><span class="p">].</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

            <span class="k">if</span> <span class="n">subdata</span> <span class="o">==</span> <span class="s">'LATI'</span><span class="p">:</span>
                <span class="n">DEAT_lati</span> <span class="o">=</span> <span class="n">df_birthday</span><span class="p">[</span><span class="n">df_birthday</span><span class="p">[</span><span class="s">'Cat'</span><span class="p">]</span> <span class="o">==</span> <span class="n">subdata</span><span class="p">][</span><span class="s">'Value'</span><span class="p">].</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

            <span class="k">if</span> <span class="n">subdata</span> <span class="o">==</span> <span class="s">'LONG'</span><span class="p">:</span>
                <span class="n">DEAT_long</span> <span class="o">=</span> <span class="n">df_birthday</span><span class="p">[</span><span class="n">df_birthday</span><span class="p">[</span><span class="s">'Cat'</span><span class="p">]</span> <span class="o">==</span> <span class="n">subdata</span><span class="p">][</span><span class="s">'Value'</span><span class="p">].</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="n">DEAT_date</span> <span class="o">=</span> <span class="s">'NaN'</span>
        <span class="n">DEAT_place</span> <span class="o">=</span> <span class="s">'NaN'</span>
        <span class="n">DEAT_lati</span> <span class="o">=</span> <span class="s">'NaN'</span>
        <span class="n">DEAT_long</span> <span class="o">=</span> <span class="s">'NaN'</span>

    <span class="n">df_clean</span><span class="p">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">Series</span><span class="p">({</span><span class="s">'Name'</span><span class="p">:</span><span class="n">name_person</span><span class="p">,</span><span class="s">'Gender'</span><span class="p">:</span><span class="n">sex_person</span><span class="p">,</span><span class="s">'Birthday'</span><span class="p">:</span><span class="n">birth_date</span><span class="p">,</span><span class="s">'Birth Place'</span><span class="p">:</span><span class="n">birth_place</span><span class="p">,</span> <span class="s">'Birth Lat'</span><span class="p">:</span><span class="n">birth_lati</span><span class="p">,</span><span class="s">'Birth Lon'</span><span class="p">:</span><span class="n">birth_long</span><span class="p">,</span> <span class="s">'Deathday'</span><span class="p">:</span> <span class="n">DEAT_date</span><span class="p">,</span> <span class="s">'Death Place'</span><span class="p">:</span> <span class="n">DEAT_place</span><span class="p">,</span> <span class="s">'Death Lat'</span><span class="p">:</span> <span class="n">DEAT_lati</span><span class="p">,</span> <span class="s">'Death Lon'</span><span class="p">:</span> <span class="n">DEAT_long</span><span class="p">})</span>


<span class="n">df_clean</span><span class="p">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s">'Avery12GenerationFmaily.csv'</span><span class="p">)</span>       

</code></pre></div></div>

<p>From there, I had an organized CSV where I could perform analysis! Simple and organized.</p>

<p>I brought the table to JMP and did a little clean up and started to graph. What I was most interested in was a word cloud of names. I thought it would be cool to see all the names that make me. I like JMP because it has some pretty easy text analysis features, including a word cloud.</p>

<p>Viola! I made this.</p>
<figure class="">
  <img src="/Images/Family%20History%20Hacking/WordCloudYear.PNG" alt="this is a placeholder image" />
  
</figure>

<p>Let’s see what we can see. First thing I notice is biggest word is ‘Smith’, this is probably not a surprise as my last name is Smith, but that’s a good check to make sure everything is working as expected. Next thing I notice is ‘Wilson’, that’s my mom’s last name so that makes sense as well. Next thing to pop is Jane, John, Marry, and George; these are common Brittish names and I have a lot of Brittish routes. I see Elizabeth, Karren, and William (more Brittish names). Then I see Averett and Larsen (more of my mom family names). Then I see Damico. This name belongs to my dad’s Italian line. I see Christensen and I know that’s actually Danish. You can see more evidence of my Scandinavian routes if you dig in. On the left hand side, you’ll notice ‘Pedersen’; that’s a Danish last name. Next to it, you’ll see ‘Hans’; the most generic of Scandinavian names. In the bottom left, around 7 o’ clock you’ll see Håkansdotter (very Swedish(. On the right hand side, you’ll see Pearson and Peterson. At the top you’ll see Kjerstina and Vilhelm. The evidence is everywhere. I see ‘Beth’ my grandma’s first name. I found my name (can you find it, it is highlighted in blue to help you!).</p>

<p>This was all great. I could see the different names that make me. Who knew I had a relative named Luigi? (I literally do, can you find that name?)</p>

<p>But then I thought, well what if I can add some more information to this graph. Instead of arbitrary coloring, I added a color map corresponding to year born. Trying to highlight the older and newer names.</p>

<figure class="">
  <img src="/Images/Family%20History%20Hacking/WordCloudYear.PNG" alt="this is a placeholder image" />
  
    <figcaption>
      Word Cloud colored by year born

    </figcaption>
  
</figure>

<p>If you analyze the graph, you’ll notice the more orange and yellow names are sometimes the less ‘American’ sounding: Andreas, Jens, Pedersen, Mathaniel, Erichdatter, Mogensen, Luigi. We’re covering a lot of those Scandinavia and Italian lines there. Then you get to names like John and William and Elizabeth and George (the more Brittish). Then finally, you end with my grandparents names, my last name, my mom’s last name, ect.</p>

<p>Well, what else could I color map it with? The last one was year history, but I focused on geographic area….so maybe I’ll just focus on latitude on where they were born. Because of American history, this doesn’t end up so different. We see a lot of the foreign names (higher lat (further east)) names as the older ones. But this picks out the people born in the USA and makes them blue for the most part. Curtis for example, American. Jewel, American. Frederik, Yaughn, Johan, not American.</p>

<figure class="">
  <img src="/Images/Family%20History%20Hacking/WordCloudBirthLat.PNG" alt="this is a placeholder image" />
  
    <figcaption>
      Word Cloud colored by latitude of born location

    </figcaption>
  
</figure>

<p>These figures really inspired me. Here are my ancestors. The Damico’s, The Jagger’s, Hans, Sarah, Juliana, the Palmer that made me into the guy I am today. Here is the origin of (A)very Smith. I thought, “Wow, I want to remember these people more often.” So I set out to make a sticker so I could put it on my laptop (remind me, we need a blog post on my laptop stickers). I ordered it, but when the sent me the digital proof for review, I thought, if a random person sees this, are they going to know what it is? Or just see a bunch of clutter? I thought there had to be a better way to show the data. I ended up finding this website: <a href="https://wordart.com/create">https://wordart.com/create</a>. They allowed me to put the word cloud into a shape that was representative of the data, so instead of just a cloud, I could make…yes, a TREE!</p>

<figure class="">
  <img src="/Images/Family%20History%20Hacking/NameCloudTreeSmith.png" alt="this is a placeholder image" />
  
    <figcaption>
      New definition of Family Tree

    </figcaption>
  
</figure>

<p>Now that’s a way to look at your family tree! A literal, family, tree! Howe beautiful. I love the leaves and different shades of green. I love the trunk and brown of the root of the tree. It just looked great. Loved it so much, I made one for my wife’s family as well and decided it was part of their Christmas present this year! I ordered the stickers and they just arrived today. Check them out!</p>

<figure class="">
  <img src="/Images/Family%20History%20Hacking/FamilyTreeStickers_with_computer.jpg" alt="this is a placeholder image" />
  
    <figcaption>
      Family tree stickers to give to family

    </figcaption>
  
</figure>

<p>I didn’t only look at the names, I tried a few other things as well. This included trying to make a family Gannt Chart. If you’re unfamiliar with a Gannt Chart, it’s basically a way of seeing how events overlap. I wanted to see what ancestors lived with who. It’s hard to display because I’m not sure who all these people are but it’s interesting to see a lot of them were alive during the same time. 1895 had a lot of my ancestors alive. Of course, I only have 2 parents and hence 4 grandparents, and hence 8 great grandparents and thus each generation has more people. It’s interesting to see the anomalies of short lives. There are a few in there that where quite short, although a lot were relatively long.</p>

<figure class="">
  <img src="/Images/Family%20History%20Hacking/Family%20Gantt%20Chart.png" alt="this is a placeholder image" />
  
    <figcaption>
      Which family members lived during the same time?

    </figcaption>
  
</figure>

<p>I also did a graphic on where they were born and in what year.</p>
<figure class="">
  <img src="/Images/Family%20History%20Hacking/FamilyMapByYear.PNG" alt="this is a placeholder image" />
  
    <figcaption>
      Where are my ancestors from?

    </figcaption>
  
</figure>

<p>I wasn’t lying! Italy, UK, Scandinavia !!!</p>

<figure class="third ">
  
    
      <a href="/Images/Family%20History%20Hacking/WordCloudBirthLat.PNG">
          <img src="/Images/Family%20History%20Hacking/WordCloudBirthLat.PNG" alt="Family Word Cloud colored by Latitude" />
      </a>
    
  
    
      <a href="/Images/Family%20History%20Hacking/WordCloudBirthLat.PNG">
          <img src="/Images/Family%20History%20Hacking/WordCloudYear.PNG" alt="Family Word Cloud colored by Year Born" />
      </a>
    
  
    
      <a href="/Images/Family%20History%20Hacking/WordCloudBirthLat.PNG">
          <img src="/Images/Family%20History%20Hacking/WordCloudRandoColo.PNG" alt="Family Word Cloud colored by Random Colors" />
      </a>
    
  
  
    <figcaption>See some alternatives on the family word cloud.
</figcaption>
  
</figure>


        
      </section>

      <footer class="page__meta">
        
        


        
      </footer>

      <section class="page__share">
  
    <h4 class="page__share-title">Share on</h4>
  

  <a href="https://twitter.com/intent/tweet?text=Family+History+Hacking%20http%3A%2F%2Flocalhost%3A4000%2Fportfolio%2FFamilyHistoryHacking%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Flocalhost%3A4000%2Fportfolio%2FFamilyHistoryHacking%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2Flocalhost%3A4000%2Fportfolio%2FFamilyHistoryHacking%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/portfolio/CrushTheCurve_Utah/" class="pagination--pager" title="Utah: Crush The Curve Location Tracking
">Previous</a>
    
    
      <a href="/portfolio/NetflexOriginals/" class="pagination--pager" title="Popularity of Netflix Originals
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">You may also enjoy</h4>
      <div class="grid__wrapper">
        
          
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/firstpost/" rel="permalink">Post Title
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  less than 1 minute read

</p>
    
    <p class="archive__item-excerpt" itemprop="description">THis is my first post…where does it go
</p>
  </article>
</div>

        
      </div>
    </div>
  
</div>

    </div>

    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
          <li><a href="https://twitter.com/A_Very_Data" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
        
      
        
      
        
          <li><a href="https://github.com/AveryData?tab=repositories" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
      
        
      
        
          <li><a href="https://instagram.com/verydata_365" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-instagram" aria-hidden="true"></i> Instagram</a></li>
        
      
    

    <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2020 Avery Smith. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>
  <script src="https://kit.fontawesome.com/4eee35f757.js"></script>










  </body>
</html>
