<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.19.1 by Michael Rose
  Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Utah Jazz: Shot Analysis - (A)Very Data</title>
<meta name="description" content="A project from my frist Data Science class ">


  <meta name="author" content="Avery Smith">


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="(A)Very Data">
<meta property="og:title" content="Utah Jazz: Shot Analysis">
<meta property="og:url" content="http://localhost:4000/portfolio/TakeYourShot/FinalVersion/">


  <meta property="og:description" content="A project from my frist Data Science class ">



  <meta property="og:image" content="http://localhost:4000/Images/TakeYourShotJazz/ClustersPreview.jpeg">





  <meta property="article:published_time" content="2020-07-09T07:54:02-05:00">





  

  


<link rel="canonical" href="http://localhost:4000/portfolio/TakeYourShot/FinalVersion/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "Avery Smith",
      "url": "http://localhost:4000/"
    
  }
</script>






<!-- end _includes/seo.html -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="(A)Very Data Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<!--[if IE]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          (A)Very Data
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/about/">About</a>
            </li><li class="masthead__menu-item">
              <a href="/portfolio/">Portfolio</a>
            </li><li class="masthead__menu-item">
              <a href="/learning/">Learning</a>
            </li><li class="masthead__menu-item">
              <a href="/thingsilike/">Things I like</a>
            </li></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      
        <img src="/Images/PicturesOfMe/ProfPic_Best.JPG" alt="Avery Smith" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">Avery Smith</h3>
    
    
      <div class="author__bio" itemprop="description">
        <p>My adventure in Data Science and Analytics</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name">Houston, TX</span>
        </li>
      

      
        
          
            <li><a href="mailto:averyjs@gmail.com" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i><span class="label">Email</span></a></li>
          
        
          
        
          
            <li><a href="https://twitter.com/A_Very_Data" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i><span class="label">Twitter</span></a></li>
          
        
          
        
          
            <li><a href="https://github.com/AveryData?tab=repositories" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">GitHub</span></a></li>
          
        
          
            <li><a href="https://instagram.com/verydata_365" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-instagram" aria-hidden="true"></i><span class="label">Instagram</span></a></li>
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Utah Jazz: Shot Analysis">
    <meta itemprop="description" content="A project from my frist Data Science class">
    
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Utah Jazz: Shot Analysis
</h1>
          
            <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  42 minute read

</p>
          
        </header>
      

      <section class="page__content" itemprop="text">
        
        <p>In Spring 2018, I had a class where we needed to do a group project. My teammates and I chose to do some analysis of the Utah Jazz.</p>

<p>Here is the results in a 3 minute video:</p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/HDrmcKn1qhI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<p>The work actually won best project in the class of about 60 students. You can see our names in the hall of fame in the class at <a href="http://datasciencecourse.net/2020/fame/">http://datasciencecourse.net/2020/fame/</a>.</p>

<p>Below is our winning submission report of the project, including most the code and details.</p>

<p>During this project we:</p>
<ul>
  <li>Webscraped ESPN shotcharts using BeautifulSoup</li>
  <li>Used Regex to find the types of shots</li>
  <li>Utilized Pandas to wrangle the data</li>
  <li>Ran k-means clustering on the court</li>
  <li>Calculated average shot worth for each player in each cluster</li>
  <li>Evaluated how these differences compared using ANOVA</li>
  <li>Predicted the outcome of a game based on the averages</li>
</ul>

<hr />

<h1 id="take-your-shot">Take Your Shot</h1>
<h2 id="final-submission">Final Submission</h2>
<h3 id="jacob-brown-avery-smith-and-kyle-salisbury">Jacob Brown, Avery Smith, and Kyle Salisbury</h3>
<h4 id="video-presentation-link-httpswwwyoutubecomwatchvhdrmckn1qhi">Video Presentation Link: https://www.youtube.com/watch?v=HDrmcKn1qhI</h4>

<table>
  <thead>
    <tr>
      <th>Members</th>
      <th>email</th>
      <th>uid</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Jacob Brown</td>
      <td>u0729080@utah.edu</td>
      <td>u0729080</td>
    </tr>
    <tr>
      <td>Avery Smith</td>
      <td>averyjs@gmail.com</td>
      <td>u0838931</td>
    </tr>
    <tr>
      <td>Kyle Salisbury</td>
      <td>Kcsals@gmail.com</td>
      <td>u0711328</td>
    </tr>
  </tbody>
</table>

<h3 id="primary-questions">Primary Questions:</h3>

<p>What are the natural groupings/clusters of shots on a basketball court?</p>

<p>Which combinations of player and shooting location have the highest expected value (shooting pct * points)?</p>

<p>Are the differences in shooting percentage statistically significant?</p>

<p>How does shooting pct vary at Home vs. Away?</p>

<p>Given only the location and shooters for a game not in our dataset, can we predict the final score of the Jazz, the amount of points each player scored, and whether or not they won?</p>

<h2 id="accomplished">Accomplished:</h2>
<ul>
  <li>
    <p>Web scraped all data from sources and created “final” csv</p>
  </li>
  <li>
    <p>Obtained key data points using Regex</p>
  </li>
  <li>
    <p>Cleaned data and created various dataframes</p>
  </li>
  <li>
    <p>Unsupervised clustering (k-means) to divide court into 6 clusters (futher divided by 2 pointer and 3 pointer)</p>
  </li>
  <li>
    <p>Calculated expected value for each player in each court position and reported them on shot charts</p>
  </li>
  <li>
    <p>Calculated significance for shooting percentages by player and location</p>
  </li>
  <li>
    <p>Explored expected value difference for Home VS Away games</p>
  </li>
  <li>
    <p>Predicted the score of Jazz game, along with individual player totals.</p>
  </li>
</ul>

<h3 id="methods-used">Methods Used:</h3>
<ul>
  <li>
    <p>Web scraping</p>
  </li>
  <li>
    <p>Regex</p>
  </li>
  <li>
    <p>Dataframes (including masking)</p>
  </li>
  <li>
    <p>Unsupervised clustering (k-means)</p>
  </li>
  <li>
    <p>Loops and logic</p>
  </li>
  <li>
    <p>Hypothesis Testing</p>
  </li>
  <li>
    <p>Visualizations (Scatter plots, heat maps)</p>
  </li>
  <li>
    <p>Predictions via pseduo-model</p>
  </li>
</ul>

<h2 id="programming-and-methods">Programming and Methods:</h2>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Import All Library Packages
</span>
<span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">urllib.request</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="n">pd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">from</span> <span class="nn">matplotlib.colors</span> <span class="kn">import</span> <span class="n">ListedColormap</span>
<span class="kn">from</span> <span class="nn">sklearn.cluster</span> <span class="kn">import</span> <span class="n">KMeans</span><span class="p">,</span> <span class="n">AgglomerativeClustering</span>
<span class="kn">from</span> <span class="nn">sklearn</span> <span class="kn">import</span> <span class="n">metrics</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">silhouette_samples</span><span class="p">,</span> <span class="n">silhouette_score</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">scipy</span> <span class="k">as</span> <span class="n">sc</span>
<span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="kn">import</span> <span class="n">norm</span>

<span class="c1"># Develop some color maps
</span><span class="n">seven_colors</span> <span class="o">=</span> <span class="n">ListedColormap</span><span class="p">([</span><span class="s">"#e41a1c"</span><span class="p">,</span><span class="s">"#984ea3"</span><span class="p">,</span><span class="s">"#a65628"</span><span class="p">,</span><span class="s">"#377eb8"</span><span class="p">,</span><span class="s">"#ffff33"</span><span class="p">,</span><span class="s">"#4daf4a"</span><span class="p">,</span><span class="s">"#ff7f00"</span><span class="p">])</span>
<span class="n">cmap_bold</span> <span class="o">=</span> <span class="n">ListedColormap</span><span class="p">([</span><span class="s">'#FF0000'</span><span class="p">,</span> <span class="s">'#00FF00'</span><span class="p">])</span>

<span class="c1"># Load in the court picture
</span><span class="n">img</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="n">imread</span><span class="p">(</span><span class="s">'JazzCortHalf.png'</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="data-aquisition-process">Data Aquisition Process</h3>
<h4 id="this-may-take-quite-a-while-to-run-it-also-saves-local-htmls-so-it-is-suggested-if-running-the-code-to-start-later-at-exploratory-analysis-section">(This may take quite a while to run. It also saves local htmls so it is suggested, if running the code, to start later at Exploratory Analysis section)</h4>

<p>We scraped shot charts for the Utah Jazz from http://www.espn.com .  We used the hyperlinks on the Jazz schedule page to find all the Jazz games for the entire season.  We saved each page as a .html file so we could interact with them without having to scrape them over and over again.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Function to get soups for a given URL
</span><span class="k">def</span> <span class="nf">getWebsiteAsSoup</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
    <span class="s">"""
    Retrieve a website and return it as a BeautifulSoup object.   
    """</span>

    <span class="n">req</span> <span class="o">=</span> <span class="n">urllib</span><span class="p">.</span><span class="n">request</span><span class="p">.</span><span class="n">Request</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
    <span class="k">with</span> <span class="n">urllib</span><span class="p">.</span><span class="n">request</span><span class="p">.</span><span class="n">urlopen</span><span class="p">(</span><span class="n">req</span><span class="p">)</span> <span class="k">as</span> <span class="n">response</span><span class="p">:</span>
        <span class="n">classlist_html</span> <span class="o">=</span> <span class="n">response</span><span class="p">.</span><span class="n">read</span><span class="p">()</span>

    <span class="n">class_soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">classlist_html</span><span class="p">,</span> <span class="s">'html.parser'</span><span class="p">)</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">'class_list.html'</span><span class="p">,</span> <span class="s">'w'</span><span class="p">)</span> <span class="k">as</span> <span class="n">new_file</span><span class="p">:</span>
        <span class="n">new_file</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">class_soup</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">class_soup</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># url for the jazz schedule
</span><span class="n">schedule_url</span> <span class="o">=</span> <span class="s">"http://www.espn.com/nba/team/schedule/_/name/utah/utah-jazz"</span>
<span class="n">schedule_soup</span> <span class="o">=</span> <span class="n">getWebsiteAsSoup</span><span class="p">(</span><span class="n">schedule_url</span><span class="p">)</span>
<span class="n">base_url</span> <span class="o">=</span> <span class="s">"http://www.espn.com/nba/game?gameId="</span>  <span class="c1"># append url_endings to this
</span><span class="n">url_endings</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">regex</span> <span class="o">=</span> <span class="s">'//www.espn.com/nba/recap/_/id/(\d+)"'</span>
<span class="k">for</span> <span class="n">a_element</span> <span class="ow">in</span> <span class="n">schedule_soup</span><span class="p">.</span><span class="n">find_all</span><span class="p">(</span><span class="s">'a'</span><span class="p">):</span>  <span class="c1"># find all elements of type 'a'
</span>    <span class="n">ending</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">findall</span><span class="p">(</span><span class="n">regex</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">a_element</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">ending</span> <span class="o">!=</span> <span class="p">[]:</span>  <span class="c1"># many of these elements won't contain the regular expression--skip them
</span>        <span class="n">url_endings</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">ending</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

<span class="k">print</span><span class="p">(</span><span class="s">'Number of Jazz Games:'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">url_endings</span><span class="p">))</span>  <span class="c1"># shows how many games the Jazz have played so far
</span></code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Function to save html for a given URL
</span><span class="k">def</span> <span class="nf">saveWebsiteToLocal</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">number</span><span class="p">):</span>
    <span class="s">"""
    Retrieve a website and save it locally as an html.  
    """</span>

    <span class="n">req</span> <span class="o">=</span> <span class="n">urllib</span><span class="p">.</span><span class="n">request</span><span class="p">.</span><span class="n">Request</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
    <span class="k">with</span> <span class="n">urllib</span><span class="p">.</span><span class="n">request</span><span class="p">.</span><span class="n">urlopen</span><span class="p">(</span><span class="n">req</span><span class="p">)</span> <span class="k">as</span> <span class="n">response</span><span class="p">:</span>
        <span class="n">classlist_html</span> <span class="o">=</span> <span class="n">response</span><span class="p">.</span><span class="n">read</span><span class="p">()</span>

    <span class="c1"># print(classlist_html)
</span>
    <span class="n">class_soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">classlist_html</span><span class="p">,</span> <span class="s">'html.parser'</span><span class="p">)</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">'html/game_'</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">number</span><span class="p">)</span> <span class="o">+</span> <span class="s">'.html'</span><span class="p">,</span> <span class="s">'w'</span><span class="p">)</span> <span class="k">as</span> <span class="n">new_file</span><span class="p">:</span>
        <span class="n">new_file</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">class_soup</span><span class="p">))</span>

    <span class="k">return</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># download all the games to a local copy
</span><span class="n">i</span> <span class="o">=</span> <span class="mi">1</span>
<span class="k">for</span> <span class="n">game</span> <span class="ow">in</span> <span class="n">url_endings</span><span class="p">:</span>
    <span class="n">saveWebsiteToLocal</span><span class="p">(</span><span class="n">base_url</span><span class="o">+</span><span class="n">url_endings</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">i</span><span class="p">)</span>
    <span class="n">i</span><span class="o">+=</span><span class="mi">1</span>
    <span class="n">time</span><span class="p">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="data-processing">Data Processing</h3>

<p>The following image was screenshotted from the url http://www.espn.com/nba/game?gameId=400975701 .  Each of the dots is an element of type ‘li’ which can be scraped.</p>

<p><img src="ShotChart.png" alt="title" /></p>

<p>We used beautiful soup to identify the html element for each shot, and used regular expressions to extract the interesting data from each shot. This is what the HTML looks like. We were mostly interested in data-text, data-homeaway, data-shooter, and left and top positions.</p>

<p><img src="Inspection of HTML.jpeg" alt="title" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># regular expressions to obtain key data
</span><span class="n">utah_regex</span> <span class="o">=</span> <span class="s">'utah.png'</span>
<span class="n">made_missed_regex</span> <span class="o">=</span> <span class="s">r'class="(\w+)"'</span>
<span class="n">period_regex</span> <span class="o">=</span> <span class="s">r'data-period="(\d)"'</span>
<span class="n">shooter_regex</span> <span class="o">=</span> <span class="s">r'data-shooter="(\d+)"'</span>
<span class="n">blocks_regex</span> <span class="o">=</span> <span class="s">r'blocks'</span>
<span class="n">blocks_shooter_name_regex</span> <span class="o">=</span> <span class="s">r"blocks (\w+ \w+)"</span>
<span class="n">shooter_name_regex</span> <span class="o">=</span> <span class="s">r'data-text="(\w+ \w+)'</span>
<span class="n">distance_regex</span> <span class="o">=</span> <span class="s">r' (\d+-foot)'</span>
<span class="n">type_regex</span> <span class="o">=</span> <span class="s">r'foot ([\w ]+)[ "]'</span>
<span class="n">alt_type_regex</span> <span class="o">=</span> <span class="s">r'e*s ([\w ]+)["\(]'</span>
<span class="n">assist_regex</span> <span class="o">=</span> <span class="s">r'\((\w+ \w+) assists\)'</span>
<span class="n">left_regex</span> <span class="o">=</span> <span class="s">r'left:(\d+.\d+)%'</span>
<span class="n">top_regex</span> <span class="o">=</span> <span class="s">r'top:(\d+.\d+)%'</span>
<span class="n">three_regex</span> <span class="o">=</span> <span class="s">r'three'</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Obtaining key words from scraping
</span><span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="n">clock</span><span class="p">()</span>
<span class="n">array</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">tot_games</span> <span class="o">=</span> <span class="mi">80</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">tot_games</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
    <span class="n">GameWebsite</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="s">"html/game_"</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">+</span> <span class="s">".html"</span><span class="p">),</span> <span class="s">"html.parser"</span><span class="p">)</span>
    <span class="n">court_symbol</span> <span class="o">=</span> <span class="n">GameWebsite</span><span class="p">.</span><span class="n">select</span><span class="p">(</span><span class="s">'.shot-chart &gt; .team-logo'</span><span class="p">)</span>
    <span class="n">home_team</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">findall</span><span class="p">(</span><span class="n">utah_regex</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">court_symbol</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">home_team</span><span class="p">:</span>        
        <span class="n">AllJazzShots</span> <span class="o">=</span> <span class="n">GameWebsite</span><span class="p">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="s">"shots home-team"</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">homeaway</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">AllJazzShots</span> <span class="o">=</span> <span class="n">GameWebsite</span><span class="p">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="s">"shots away-team"</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">homeaway</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">300</span><span class="p">):</span>
        <span class="n">Shot</span> <span class="o">=</span> <span class="n">AllJazzShots</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s">"shot"</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">j</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">Shot</span> <span class="o">==</span> <span class="bp">None</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="n">game</span> <span class="o">=</span> <span class="n">i</span>
        <span class="n">shot</span> <span class="o">=</span> <span class="n">j</span>
        <span class="n">made_missed</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">findall</span><span class="p">(</span><span class="n">made_missed_regex</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">Shot</span><span class="p">))[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">made_missed</span> <span class="o">==</span> <span class="s">"made"</span><span class="p">:</span>
            <span class="n">made_missed</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">made_missed</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">period</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">findall</span><span class="p">(</span><span class="n">period_regex</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">Shot</span><span class="p">))[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">shooter</span> <span class="o">=</span>  <span class="n">re</span><span class="p">.</span><span class="n">findall</span><span class="p">(</span><span class="n">shooter_regex</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">Shot</span><span class="p">))[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">block</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">findall</span><span class="p">(</span><span class="n">blocks_regex</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">Shot</span><span class="p">))</span>
        <span class="n">shooter_name</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">findall</span><span class="p">(</span><span class="n">shooter_name_regex</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">Shot</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">block</span><span class="p">:</span>
            <span class="n">shooter_name</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">findall</span><span class="p">(</span><span class="n">blocks_shooter_name_regex</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">Shot</span><span class="p">))[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">elif</span> <span class="n">shooter_name</span> <span class="o">==</span> <span class="p">[]:</span>
            <span class="n">shooter_name</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">shooter_name</span> <span class="o">=</span> <span class="n">shooter_name</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">distance</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">findall</span><span class="p">(</span><span class="n">distance_regex</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">Shot</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">distance</span> <span class="o">==</span> <span class="p">[]:</span>
            <span class="n">distance</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">distance</span> <span class="o">=</span> <span class="n">distance</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">shot_type</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">findall</span><span class="p">(</span><span class="n">type_regex</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">Shot</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">shot_type</span> <span class="o">==</span> <span class="p">[]:</span>
            <span class="n">shot_type</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">findall</span><span class="p">(</span><span class="n">alt_type_regex</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">Shot</span><span class="p">))</span>
            <span class="c1">#if shot_type == []:
</span>            <span class="c1">#    shot_type = "deviant"
</span>        <span class="n">shot_type</span> <span class="o">=</span> <span class="n">shot_type</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="c1"># clears out some problems associated with greedy regex        
</span>        <span class="n">start</span> <span class="o">=</span> <span class="n">shot_type</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="s">"makes "</span><span class="p">)</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="s">"makes "</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">start</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="s">"makes "</span><span class="p">):</span>
            <span class="n">shot_type</span> <span class="o">=</span> <span class="n">shot_type</span><span class="p">[</span><span class="n">start</span><span class="p">:]</span>
        <span class="n">start</span> <span class="o">=</span> <span class="n">shot_type</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="s">"misses "</span><span class="p">)</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="s">"misses "</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">start</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="s">"misses "</span><span class="p">):</span>
            <span class="n">shot_type</span> <span class="o">=</span> <span class="n">shot_type</span><span class="p">[</span><span class="n">start</span><span class="p">:]</span>
        <span class="n">assist</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">findall</span><span class="p">(</span><span class="n">assist_regex</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">Shot</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">assist</span> <span class="o">==</span> <span class="p">[]:</span>
            <span class="n">assist</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">assist</span> <span class="o">=</span> <span class="n">assist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">left</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">re</span><span class="p">.</span><span class="n">findall</span><span class="p">(</span><span class="n">left_regex</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">Shot</span><span class="p">))[</span><span class="mi">0</span><span class="p">])</span>
        <span class="c1"># one axis needs to be flipped depending on if it is home or away
</span>        <span class="k">if</span> <span class="p">(</span><span class="n">homeaway</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
            <span class="n">left</span> <span class="o">=</span> <span class="mi">100</span><span class="o">-</span><span class="n">left</span>
            <span class="c1">#print('away')
</span>        <span class="n">top</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">re</span><span class="p">.</span><span class="n">findall</span><span class="p">(</span><span class="n">top_regex</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">Shot</span><span class="p">))[</span><span class="mi">0</span><span class="p">])</span>
        <span class="k">if</span> <span class="n">homeaway</span><span class="p">:</span>
            <span class="n">top</span> <span class="o">=</span> <span class="mi">100</span><span class="o">-</span><span class="n">top</span>
        <span class="n">three</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">findall</span><span class="p">(</span><span class="n">three_regex</span><span class="p">,</span> <span class="n">shot_type</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">three</span> <span class="o">==</span> <span class="p">[]:</span>
            <span class="n">three</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">three</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">game_array</span> <span class="o">=</span> <span class="p">[</span><span class="n">game</span><span class="p">,</span> <span class="n">shot</span><span class="p">,</span> <span class="n">homeaway</span><span class="p">,</span> <span class="n">made_missed</span><span class="p">,</span> <span class="n">period</span><span class="p">,</span> <span class="n">shooter</span><span class="p">,</span> <span class="n">shooter_name</span><span class="p">,</span> <span class="n">distance</span><span class="p">,</span> <span class="n">shot_type</span><span class="p">,</span>
                     <span class="n">assist</span><span class="p">,</span> <span class="n">left</span><span class="p">,</span> <span class="n">top</span><span class="p">,</span> <span class="n">three</span><span class="p">]</span>
        <span class="n">array</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">game_array</span><span class="p">)</span>
<span class="n">end</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="n">clock</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="s">"This took "</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">end</span><span class="o">-</span><span class="n">start</span><span class="p">)</span> <span class="o">+</span> <span class="s">" seconds to run"</span><span class="p">)</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>This took 44.585532 seconds to run
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s">"game"</span><span class="p">,</span> <span class="s">"shot"</span><span class="p">,</span> <span class="s">"home/away"</span><span class="p">,</span> <span class="s">"made/missed"</span><span class="p">,</span> <span class="s">"period"</span><span class="p">,</span> <span class="s">"shooter"</span><span class="p">,</span> <span class="s">"shooter_name"</span><span class="p">,</span>
           <span class="s">"distance"</span><span class="p">,</span> <span class="s">"shot_type"</span><span class="p">,</span> <span class="s">"assist"</span><span class="p">,</span> <span class="s">"left"</span><span class="p">,</span> <span class="s">"top"</span><span class="p">,</span> <span class="s">"ThreePt"</span><span class="p">]</span>
<span class="k">print</span><span class="p">(</span><span class="s">'Total Number of Shots: '</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">array</span><span class="p">)))</span>  <span class="c1"># total number of shots
</span><span class="k">print</span><span class="p">(</span><span class="s">'Average Shots Per Game: '</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">array</span><span class="p">)</span><span class="o">/</span><span class="n">tot_games</span><span class="p">))</span>  <span class="c1"># avg shots per game
</span></code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Total Number of Shots: 6614
Average Shots Per Game: 82.675
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">panda_dataframe</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">array</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">columns</span><span class="p">)</span>
<span class="n">panda_dataframe</span><span class="p">.</span><span class="n">head</span><span class="p">()</span>
</code></pre></div></div>

<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>game</th>
      <th>shot</th>
      <th>home/away</th>
      <th>made/missed</th>
      <th>period</th>
      <th>shooter</th>
      <th>shooter_name</th>
      <th>distance</th>
      <th>shot_type</th>
      <th>assist</th>
      <th>left</th>
      <th>top</th>
      <th>ThreePt</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>4257</td>
      <td>Derrick Favors</td>
      <td>6-foot</td>
      <td>jumper</td>
      <td>Joe Ingles</td>
      <td>91.333333</td>
      <td>60.0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>4257</td>
      <td>Derrick Favors</td>
      <td>12-foot</td>
      <td>jumper</td>
      <td>None</td>
      <td>86.888889</td>
      <td>70.0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1</td>
      <td>2</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>3032976</td>
      <td>Rudy Gobert</td>
      <td>3-foot</td>
      <td>dunk</td>
      <td>Joe Ingles</td>
      <td>90.222222</td>
      <td>48.0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1</td>
      <td>5</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>3908809</td>
      <td>Donovan Mitchell</td>
      <td>8-foot</td>
      <td>pullup jump shot</td>
      <td>None</td>
      <td>84.666667</td>
      <td>58.0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1</td>
      <td>6</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>4011</td>
      <td>Ricky Rubio</td>
      <td>18-foot</td>
      <td>pullup jump shot</td>
      <td>None</td>
      <td>74.666667</td>
      <td>62.0</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">panda_dataframe</span><span class="p">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s">"shots_dataframe_final.csv"</span><span class="p">)</span>
</code></pre></div></div>

<h1 id="exploratory-analysis">Exploratory Analysis</h1>
<h4 id="data-can-be-read-from-here-without-having-to-run-the-top-half-of-the-notebook---which-could-take-a-while">Data can be read from here without having to run the top half of the notebook - (which could take a while)</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># data can be read from here without having to run the top half of the notebook
# (which could take a while)
</span><span class="n">ShotsPD</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s">"shots_dataframe.csv"</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Describe Data Set
</span><span class="n">ShotsPD</span><span class="p">.</span><span class="n">describe</span><span class="p">()</span>
</code></pre></div></div>

<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Unnamed: 0</th>
      <th>game</th>
      <th>shot</th>
      <th>home/away</th>
      <th>made/missed</th>
      <th>period</th>
      <th>shooter</th>
      <th>left</th>
      <th>top</th>
      <th>ThreePt</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>6793.000000</td>
      <td>6793.000000</td>
      <td>6793.000000</td>
      <td>6793.000000</td>
      <td>6793.000000</td>
      <td>6793.000000</td>
      <td>6.793000e+03</td>
      <td>6793.000000</td>
      <td>6793.000000</td>
      <td>6793.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>3396.000000</td>
      <td>41.636096</td>
      <td>49.889445</td>
      <td>0.496688</td>
      <td>0.462093</td>
      <td>2.474901</td>
      <td>1.736174e+06</td>
      <td>83.788835</td>
      <td>50.669071</td>
      <td>0.342264</td>
    </tr>
    <tr>
      <th>std</th>
      <td>1961.114522</td>
      <td>23.667811</td>
      <td>30.681017</td>
      <td>0.500026</td>
      <td>0.498598</td>
      <td>1.129431</td>
      <td>1.664691e+06</td>
      <td>10.165391</td>
      <td>21.980889</td>
      <td>0.474502</td>
    </tr>
    <tr>
      <th>min</th>
      <td>0.000000</td>
      <td>1.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>1.000000</td>
      <td>1.007000e+03</td>
      <td>48.000000</td>
      <td>2.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>1698.000000</td>
      <td>21.000000</td>
      <td>23.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>1.000000</td>
      <td>4.257000e+03</td>
      <td>74.666667</td>
      <td>44.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>3396.000000</td>
      <td>42.000000</td>
      <td>49.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>2.000000</td>
      <td>2.581177e+06</td>
      <td>87.777778</td>
      <td>50.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>5094.000000</td>
      <td>62.000000</td>
      <td>75.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>3.000000</td>
      <td>3.032976e+06</td>
      <td>92.444444</td>
      <td>60.000000</td>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>6792.000000</td>
      <td>82.000000</td>
      <td>133.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>5.000000</td>
      <td>4.065673e+06</td>
      <td>98.888889</td>
      <td>98.000000</td>
      <td>1.000000</td>
    </tr>
  </tbody>
</table>
</div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">print</span><span class="p">(</span><span class="s">'Number of Shots Taken by Each Player:'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">'----------------------------------------'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">ShotsPD</span><span class="p">[</span><span class="s">'shooter_name'</span><span class="p">].</span><span class="n">value_counts</span><span class="p">(),</span> <span class="s">'</span><span class="se">\n</span><span class="s">'</span><span class="p">)</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Number of Shots Taken by Each Player:
----------------------------------------
Donovan Mitchell    1361
Ricky Rubio          827
Joe Ingles           718
Derrick Favors       702
Rodney Hood          552
Rudy Gobert          442
Alec Burks           413
Jonas Jerebko        341
Jae Crowder          295
Royce O              285
Thabo Sefolosha      240
Joe Johnson          226
Raul Neto            151
Ekpe Udoh            119
Dante Exum            87
Tony Bradley          11
Georges Niang         11
Nate Wolters           6
David Stockton         3
Erik McCree            2
Naz Mitrou             1
Name: shooter_name, dtype: int64
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">ShotsPD</span> <span class="o">=</span> <span class="n">ShotsPD</span><span class="p">.</span><span class="n">replace</span><span class="p">(</span><span class="s">"Royce O"</span><span class="p">,</span> <span class="s">"Royce O'Neale"</span><span class="p">)</span>

<span class="c1"># filter out any shooter with less than 100 shots for the season
</span><span class="n">ShotsPD</span> <span class="o">=</span> <span class="n">ShotsPD</span><span class="p">[</span><span class="n">ShotsPD</span><span class="p">[</span><span class="s">"shooter_name"</span><span class="p">]</span><span class="o">!=</span><span class="s">"Dante Exum"</span><span class="p">]</span>
<span class="n">ShotsPD</span> <span class="o">=</span> <span class="n">ShotsPD</span><span class="p">[</span><span class="n">ShotsPD</span><span class="p">[</span><span class="s">"shooter_name"</span><span class="p">]</span><span class="o">!=</span><span class="s">"Tony Bradley"</span><span class="p">]</span>
<span class="n">ShotsPD</span> <span class="o">=</span> <span class="n">ShotsPD</span><span class="p">[</span><span class="n">ShotsPD</span><span class="p">[</span><span class="s">"shooter_name"</span><span class="p">]</span><span class="o">!=</span><span class="s">"Nate Wolters"</span><span class="p">]</span>
<span class="n">ShotsPD</span> <span class="o">=</span> <span class="n">ShotsPD</span><span class="p">[</span><span class="n">ShotsPD</span><span class="p">[</span><span class="s">"shooter_name"</span><span class="p">]</span><span class="o">!=</span><span class="s">"David Stockton"</span><span class="p">]</span>
<span class="n">ShotsPD</span> <span class="o">=</span> <span class="n">ShotsPD</span><span class="p">[</span><span class="n">ShotsPD</span><span class="p">[</span><span class="s">"shooter_name"</span><span class="p">]</span><span class="o">!=</span><span class="s">"Georges Niang"</span><span class="p">]</span>
<span class="n">ShotsPD</span> <span class="o">=</span> <span class="n">ShotsPD</span><span class="p">[</span><span class="n">ShotsPD</span><span class="p">[</span><span class="s">"shooter_name"</span><span class="p">]</span><span class="o">!=</span><span class="s">"Erik McCree"</span><span class="p">]</span>
<span class="n">ShotsPD</span> <span class="o">=</span> <span class="n">ShotsPD</span><span class="p">[</span><span class="n">ShotsPD</span><span class="p">[</span><span class="s">"shooter_name"</span><span class="p">]</span><span class="o">!=</span><span class="s">"Naz Mitrou"</span><span class="p">]</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">print</span><span class="p">(</span><span class="s">'Types of Shots Taken:'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">'----------------------------------------'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">ShotsPD</span><span class="p">[</span><span class="s">'shot_type'</span><span class="p">].</span><span class="n">value_counts</span><span class="p">(),</span> <span class="s">'</span><span class="se">\n</span><span class="s">'</span><span class="p">)</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Types of Shots Taken:
----------------------------------------
three point jumper              2004
two point shot                   901
driving layup                    590
jumper                           533
pullup jump shot                 490
layup                            371
dunk                             235
step back jumpshot               190
layup                            185
driving floating jump shot       141
three point pullup jump shot     135
dunk                             131
tip shot                         118
driving layup                    103
two point shot                    90
three pointer                     84
hook shot                         70
three point jumper                55
jump bank shot                    36
driving dunk                      34
alley oop dunk shot               28
alley oop layup                   26
alley oop dunk shot               26
jumper                            21
three point shot                  20
alley oop layup                   10
finger roll layup                 10
driving dunk                       9
running pullup jump shot           9
finger roll layup                  4
pullup jump shot                   4
shot                               3
hook shot                          3
jump bank shot                     1
step back jumpshot                 1
driving floating jump shot         1
Name: shot_type, dtype: int64
</code></pre></div></div>

<h3 id="unsupervised-clustering-via-kmeans-to-find-natural-clusters-of-the-shots">Unsupervised clustering via kmeans to find natural clusters of the shots</h3>

<p>We ultimately wanted to group the shots into different clusters for further analysis as groups.  We wanted to try an unsupervised clustering algorithm to give us some insight into how the computer might see the court.  We used kmeans because it was easy to implement, and because we were interested only in x and y location as our variables, so kmeans seemed like it would naturally lend itself to our analysis.</p>

<p>We used kmeans to cluster the basketball shots based on their X and Y locations on the court.  We chose to use 6 different clusters, because that lead to results that were the most easily idenfifiable by humans.  We were quite happy with our results. One group was right by the rim in the area called the key/paint/post. There were 5 other regions spanning the court that included both 2 pointers and 3 pointers.  These zones correlated quite nicely with what we would naturally identify as the left and right corners, wings, and the middle of the court.  Further dividing the groups into two-pointers and three-pointers gives us 11 separate clusters for further analysis.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Show the Natural Clusterings on the court with colors
</span><span class="n">X</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">zeros</span><span class="p">(</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">ShotsPD</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span> <span class="p">)</span>
<span class="n">X</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">ShotsPD</span><span class="p">[</span><span class="s">'left'</span><span class="p">]</span>
<span class="n">X</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">ShotsPD</span><span class="p">[</span><span class="s">'top'</span><span class="p">]</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span><span class="n">n_clusters</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">n_init</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">init</span><span class="o">=</span><span class="s">'random'</span><span class="p">,</span> <span class="n">max_iter</span><span class="o">=</span><span class="mi">300</span><span class="p">).</span><span class="n">fit_predict</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>

<span class="c1"># Saves these locations to the dataframe
</span><span class="n">ShotsPD</span><span class="p">[</span><span class="s">'LocationCluster'</span><span class="p">]</span> <span class="o">=</span> <span class="n">y_pred</span>
<span class="n">ShotsPD</span><span class="p">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s">"location_dataframe_final.csv"</span><span class="p">)</span>

<span class="c1"># Redistribute the left data to be on scale of 0-100 (to plot on court pic)
</span><span class="n">xNorm</span> <span class="o">=</span> <span class="mi">100</span><span class="o">*</span><span class="p">(</span><span class="n">ShotsPD</span><span class="p">[</span><span class="s">'left'</span><span class="p">]</span> <span class="o">-</span> <span class="nb">min</span><span class="p">(</span><span class="n">ShotsPD</span><span class="p">[</span><span class="s">'left'</span><span class="p">]))</span> <span class="o">/</span> <span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">ShotsPD</span><span class="p">[</span><span class="s">'left'</span><span class="p">])</span> <span class="o">-</span> <span class="nb">min</span><span class="p">(</span><span class="n">ShotsPD</span><span class="p">[</span><span class="s">'left'</span><span class="p">]))</span>

<span class="n">plt</span><span class="p">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">xNorm</span><span class="p">[:],</span> <span class="n">X</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">c</span><span class="o">=</span><span class="n">ShotsPD</span><span class="p">[</span><span class="s">'LocationCluster'</span><span class="p">],</span>  <span class="n">marker</span><span class="o">=</span><span class="s">"o"</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">seven_colors</span><span class="p">);</span>
<span class="n">plt</span><span class="p">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">extent</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">100.0</span><span class="p">])</span>
<span class="n">plt</span><span class="p">.</span><span class="n">grid</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<p><img src="output_32_0.png" alt="png" /></p>

<p>These clusters are interesting.  They naturally appear to match what we would identify as the key, the left and right corners, the wings, and the middle of the court. We added these groupings to our dataset</p>

<h3 id="we-created-shot-charts-for-the-team-as-a-whole-and-for-each-individual-player">We created shot charts for the team as a whole, and for each individual player</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># unsupervised clustering can give different labels
# so read in already clustered data for consistency
</span><span class="n">ShotsPD</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s">"location_dataframe.csv"</span><span class="p">)</span>

<span class="c1"># Redistribute the left data to be on scale of 0-100
</span><span class="n">xNorm</span> <span class="o">=</span> <span class="mi">100</span><span class="o">*</span><span class="p">(</span><span class="n">ShotsPD</span><span class="p">[</span><span class="s">'left'</span><span class="p">]</span> <span class="o">-</span> <span class="nb">min</span><span class="p">(</span><span class="n">ShotsPD</span><span class="p">[</span><span class="s">'left'</span><span class="p">]))</span> <span class="o">/</span> <span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">ShotsPD</span><span class="p">[</span><span class="s">'left'</span><span class="p">])</span> <span class="o">-</span> <span class="nb">min</span><span class="p">(</span><span class="n">ShotsPD</span><span class="p">[</span><span class="s">'left'</span><span class="p">]))</span>
<span class="n">ShotsPD</span><span class="p">[</span><span class="s">'left'</span><span class="p">]</span> <span class="o">=</span> <span class="n">xNorm</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Entire shots by Jazz by location, makes and misses
# greens are makes, reds are misses
</span><span class="n">cmap_bold</span> <span class="o">=</span> <span class="n">ListedColormap</span><span class="p">([</span><span class="s">'#FF0000'</span><span class="p">,</span> <span class="s">'#00FF00'</span><span class="p">])</span>
<span class="n">plt</span><span class="p">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">ShotsPD</span><span class="p">[</span><span class="s">'left'</span><span class="p">],</span><span class="n">ShotsPD</span><span class="p">[</span><span class="s">'top'</span><span class="p">],</span><span class="n">c</span><span class="o">=</span><span class="n">ShotsPD</span><span class="p">[</span><span class="s">'made/missed'</span><span class="p">],</span><span class="n">cmap</span><span class="o">=</span><span class="n">cmap_bold</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">colorbar</span><span class="p">()</span>
<span class="n">plt</span><span class="p">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">extent</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">100.0</span><span class="p">])</span>
<span class="n">plt</span><span class="p">.</span><span class="n">title</span><span class="p">(</span><span class="s">'2017-18 Season Shot Chart for Entire Jazz Team'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">grid</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<p><img src="output_36_0.png" alt="png" /></p>

<h5 id="individual-players">Individual players</h5>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># shot chart for every player on the Jazz
# greens are makes, reds are misses
</span><span class="k">for</span> <span class="n">shooter_name</span> <span class="ow">in</span> <span class="n">ShotsPD</span><span class="p">[</span><span class="s">'shooter_name'</span><span class="p">].</span><span class="n">unique</span><span class="p">():</span>
    <span class="n">shooter_shots</span> <span class="o">=</span> <span class="n">ShotsPD</span><span class="p">[</span><span class="n">ShotsPD</span><span class="p">[</span><span class="s">'shooter_name'</span><span class="p">]</span> <span class="o">==</span> <span class="n">shooter_name</span><span class="p">]</span>
    <span class="n">plt</span><span class="p">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">shooter_shots</span><span class="p">[</span><span class="s">'left'</span><span class="p">],</span> <span class="n">shooter_shots</span><span class="p">[</span><span class="s">'top'</span><span class="p">],</span> <span class="n">c</span><span class="o">=</span><span class="n">shooter_shots</span><span class="p">[</span><span class="s">'made/missed'</span><span class="p">],</span> <span class="n">cmap</span><span class="o">=</span><span class="n">cmap_bold</span><span class="p">)</span>
    <span class="n">plt</span><span class="p">.</span><span class="n">title</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">shooter_name</span><span class="p">))</span>
    <span class="n">plt</span><span class="p">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">extent</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">100.0</span><span class="p">])</span>
    <span class="n">plt</span><span class="p">.</span><span class="n">grid</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
    <span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<p><img src="output_38_0.png" alt="png" /></p>

<p><img src="output_38_1.png" alt="png" /></p>

<p><img src="output_38_2.png" alt="png" /></p>

<p><img src="output_38_3.png" alt="png" /></p>

<p><img src="output_38_4.png" alt="png" /></p>

<p><img src="output_38_5.png" alt="png" /></p>

<p><img src="output_38_6.png" alt="png" /></p>

<p><img src="output_38_7.png" alt="png" /></p>

<p><img src="output_38_8.png" alt="png" /></p>

<p><img src="output_38_9.png" alt="png" /></p>

<p><img src="output_38_10.png" alt="png" /></p>

<p><img src="output_38_11.png" alt="png" /></p>

<p><img src="output_38_12.png" alt="png" /></p>

<p><img src="output_38_13.png" alt="png" /></p>

<h4 id="we-can-use-simple-data-frame-masking-and-math-to-compute-some-simple-statistics-for-individual-players">We can use simple data frame masking and math to compute some simple statistics for individual players</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">mitchell_shots</span> <span class="o">=</span> <span class="n">ShotsPD</span><span class="p">[</span><span class="n">ShotsPD</span><span class="p">[</span><span class="s">"shooter_name"</span><span class="p">]</span><span class="o">==</span><span class="s">"Donovan Mitchell"</span><span class="p">]</span>
<span class="k">print</span><span class="p">(</span><span class="s">'Number of Shots Mitchell has shot: '</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">mitchell_shots</span><span class="p">)))</span>
<span class="n">mitchell_makes</span> <span class="o">=</span> <span class="n">mitchell_shots</span><span class="p">[</span><span class="n">mitchell_shots</span><span class="p">[</span><span class="s">"made/missed"</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">]</span>
<span class="n">mitchell_misses</span> <span class="o">=</span> <span class="n">mitchell_shots</span><span class="p">[</span><span class="n">mitchell_shots</span><span class="p">[</span><span class="s">"made/missed"</span><span class="p">]</span><span class="o">==</span><span class="mi">0</span><span class="p">]</span>
<span class="k">print</span><span class="p">(</span><span class="s">'Number of Shots Mitchell has made: '</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">mitchell_makes</span><span class="p">)))</span>
<span class="k">print</span><span class="p">(</span><span class="s">'Number of Shots Mitchell has missed: '</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">mitchell_misses</span><span class="p">)))</span>
<span class="k">print</span><span class="p">(</span><span class="s">'Mitchell Field Goal Percentage: '</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">mitchell_makes</span><span class="p">)</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">mitchell_shots</span><span class="p">)))</span>  <span class="c1"># Mitchell field goal shooting pct
</span></code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Number of Shots Mitchell has shot: 1361
Number of Shots Mitchell has made: 595
Number of Shots Mitchell has missed: 766
Mitchell Field Goal Percentage: 0.4371785451873622
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">mitchell_threes</span> <span class="o">=</span> <span class="n">mitchell_shots</span><span class="p">[</span><span class="n">mitchell_shots</span><span class="p">[</span><span class="s">"ThreePt"</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">]</span>
<span class="n">mitchell_twos</span> <span class="o">=</span> <span class="n">mitchell_shots</span><span class="p">[</span><span class="n">mitchell_shots</span><span class="p">[</span><span class="s">"ThreePt"</span><span class="p">]</span><span class="o">==</span><span class="mi">0</span><span class="p">]</span>
<span class="n">two_pt_pct</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">mitchell_twos</span><span class="p">[</span><span class="n">mitchell_twos</span><span class="p">[</span><span class="s">"made/missed"</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">])</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">mitchell_twos</span><span class="p">)</span>
<span class="n">three_pt_pct</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">mitchell_threes</span><span class="p">[</span><span class="n">mitchell_threes</span><span class="p">[</span><span class="s">"made/missed"</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">])</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">mitchell_threes</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">"Mitchell's two point percentage is: "</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">two_pt_pct</span><span class="o">*</span><span class="mi">100</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span> <span class="o">+</span> <span class="s">" %"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">"Mitchell's three point percentage is: "</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">three_pt_pct</span><span class="o">*</span><span class="mi">100</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span> <span class="o">+</span> <span class="s">" %"</span><span class="p">)</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Mitchell's two point percentage is: 49.71 %
Mitchell's three point percentage is: 33.79 %
</code></pre></div></div>

<h4 id="we-try-to-get-an-idea-of-which-regions-have-the-highest-expected-value-for-the-team-as-a-whole-well-plot-them-later-as-well-this-shows-the-expected-values-for-3-pointers-and-then-two-pointers">We try to get an idea of which regions have the highest expected value (for the team as a whole). We’ll plot them later as well. This shows the expected values for 3 pointers and then two pointers</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">## Team Stats -- 3 Pointers
# 3 pointers
</span><span class="n">PercMadeDif3</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">NumShots</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">NumMade</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">ExpectedValue3</span> <span class="o">=</span><span class="p">[]</span>
<span class="n">AvLeft3</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">AvTop3</span> <span class="o">=</span><span class="p">[]</span>
<span class="n">PtVal</span> <span class="o">=</span> <span class="mi">3</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">6</span><span class="p">):</span>
    <span class="n">Location</span> <span class="o">=</span> <span class="n">ShotsPD</span><span class="p">[(</span><span class="n">ShotsPD</span><span class="p">[</span><span class="s">'LocationCluster'</span><span class="p">]</span><span class="o">==</span><span class="n">i</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">ShotsPD</span><span class="p">[</span><span class="s">'ThreePt'</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">)]</span>
    <span class="n">NumShots</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Location</span><span class="p">[</span><span class="s">'made/missed'</span><span class="p">]))</span>
    <span class="n">NumMade</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Location</span><span class="p">[</span><span class="n">Location</span><span class="p">[</span><span class="s">'made/missed'</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">]))</span>
    <span class="k">if</span> <span class="n">NumShots</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">PercMade</span> <span class="o">=</span> <span class="n">NumMade</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">/</span> <span class="n">NumShots</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="n">PercMadeDif3</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">PercMade</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">PercMadeDif3</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

    <span class="n">ExpectedValue3</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">PercMadeDif3</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">PtVal</span><span class="p">)</span>

    <span class="n">AvLeft3</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="n">mean</span><span class="p">(</span><span class="n">Location</span><span class="p">[</span><span class="s">'left'</span><span class="p">]))</span>
    <span class="n">AvTop3</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="n">mean</span><span class="p">(</span><span class="n">Location</span><span class="p">[</span><span class="s">'top'</span><span class="p">]))</span>

<span class="k">print</span><span class="p">(</span><span class="s">'---- 3 Pointers ----'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">'Percentages'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">PercMadeDif3</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">'---------------------'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">'Expected Values'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">ExpectedValue3</span><span class="p">)</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---- 3 Pointers ----
Percentages
[0, 0.3986636971046771, 0.4009111617312073, 0.35555555555555557, 0.31875, 0.3536231884057971]
---------------------
Expected Values
[0, 1.1959910913140313, 1.2027334851936218, 1.0666666666666667, 0.9562499999999999, 1.0608695652173914]
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">## Team Stats -- 2 Pointers
# 2 pointers
</span><span class="n">PercMadeDif2</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">NumShots</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">NumMade</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">ExpectedValue2</span> <span class="o">=</span><span class="p">[]</span>
<span class="n">PtVal</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">AvLeft2</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">AvTop2</span> <span class="o">=</span><span class="p">[]</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">6</span><span class="p">):</span>
    <span class="n">Location</span> <span class="o">=</span> <span class="n">ShotsPD</span><span class="p">[(</span><span class="n">ShotsPD</span><span class="p">[</span><span class="s">'LocationCluster'</span><span class="p">]</span><span class="o">==</span><span class="n">i</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">ShotsPD</span><span class="p">[</span><span class="s">'ThreePt'</span><span class="p">]</span><span class="o">==</span><span class="mi">0</span><span class="p">)]</span>
    <span class="n">NumShots</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Location</span><span class="p">[</span><span class="s">'made/missed'</span><span class="p">]))</span>
    <span class="n">NumMade</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Location</span><span class="p">[</span><span class="n">Location</span><span class="p">[</span><span class="s">'made/missed'</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">]))</span>
    <span class="n">PercMade</span> <span class="o">=</span> <span class="n">NumMade</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">/</span> <span class="n">NumShots</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="n">PercMadeDif2</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">PercMade</span><span class="p">)</span>
    <span class="n">ExpectedValue2</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">PercMadeDif2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">PtVal</span><span class="p">)</span>

    <span class="n">AvLeft2</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="n">mean</span><span class="p">(</span><span class="n">Location</span><span class="p">[</span><span class="s">'left'</span><span class="p">]))</span>
    <span class="n">AvTop2</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="n">mean</span><span class="p">(</span><span class="n">Location</span><span class="p">[</span><span class="s">'top'</span><span class="p">]))</span>

<span class="k">print</span><span class="p">(</span><span class="s">'---- 2 Pointers ----'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">'Percentages'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">PercMadeDif2</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">'---------------------'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">'Expected Values'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">ExpectedValue2</span><span class="p">)</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---- 2 Pointers ----
Percentages
[0.5643629217163446, 0.43023255813953487, 0.3561643835616438, 0.4018264840182648, 0.3465909090909091, 0.44086021505376344]
---------------------
Expected Values
[1.1287258434326892, 0.8604651162790697, 0.7123287671232876, 0.8036529680365296, 0.6931818181818182, 0.8817204301075269]
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">## Delete some parts mostly because the paint (key) cluster won't have a 3, only a 2.
</span><span class="n">xx</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">AvLeft3</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">AvLeft3</span><span class="p">)):</span>
    <span class="k">if</span>  <span class="n">xx</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="bp">True</span><span class="p">:</span>
        <span class="n">DeleteVar</span> <span class="o">=</span> <span class="n">i</span>
<span class="n">DeleteVar</span>
<span class="k">del</span> <span class="n">AvLeft3</span><span class="p">[</span><span class="n">DeleteVar</span><span class="p">]</span>
<span class="k">del</span> <span class="n">AvTop3</span><span class="p">[</span><span class="n">DeleteVar</span><span class="p">]</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Show where each cluster is located on the court (the means!)
</span><span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="n">sns</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">DataFrame</span><span class="p">({</span>
<span class="s">'x'</span><span class="p">:</span> <span class="n">AvLeft3</span> <span class="o">+</span> <span class="n">AvLeft2</span><span class="p">,</span>
<span class="s">'y'</span><span class="p">:</span> <span class="n">AvTop3</span> <span class="o">+</span> <span class="n">AvTop2</span><span class="p">,</span>
<span class="s">'group'</span><span class="p">:</span> <span class="p">[</span><span class="s">'0'</span><span class="p">,</span><span class="s">'1'</span><span class="p">,</span> <span class="s">'2'</span><span class="p">,</span><span class="s">'3'</span><span class="p">,</span><span class="s">'4'</span><span class="p">,</span><span class="s">'5'</span><span class="p">,</span><span class="s">'6'</span><span class="p">,</span><span class="s">'7'</span><span class="p">,</span><span class="s">'8'</span><span class="p">,</span><span class="s">'9'</span><span class="p">,</span><span class="s">'10'</span><span class="p">]</span>
<span class="p">})</span>

<span class="n">p1</span><span class="o">=</span><span class="n">sns</span><span class="p">.</span><span class="n">regplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s">"x"</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s">"y"</span><span class="p">,</span> <span class="n">fit_reg</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s">"o"</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">"skyblue"</span><span class="p">,</span> <span class="n">scatter_kws</span><span class="o">=</span><span class="p">{</span><span class="s">'s'</span><span class="p">:</span><span class="mi">400</span><span class="p">})</span>
<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">df</span><span class="p">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
    <span class="n">p1</span><span class="p">.</span><span class="n">text</span><span class="p">(</span><span class="n">df</span><span class="p">.</span><span class="n">x</span><span class="p">[</span><span class="n">line</span><span class="p">]</span><span class="o">+</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">df</span><span class="p">.</span><span class="n">y</span><span class="p">[</span><span class="n">line</span><span class="p">],</span> <span class="n">df</span><span class="p">.</span><span class="n">group</span><span class="p">[</span><span class="n">line</span><span class="p">],</span> <span class="n">horizontalalignment</span><span class="o">=</span><span class="s">'left'</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="s">'medium'</span><span class="p">,</span>
            <span class="n">color</span><span class="o">=</span><span class="s">'black'</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s">'semibold'</span><span class="p">)</span>

<span class="n">plt</span><span class="p">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">extent</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">100.0</span><span class="p">])</span>
<span class="n">plt</span><span class="p">.</span><span class="n">grid</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>


</code></pre></div></div>

<p><img src="output_46_0.png" alt="png" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">## Delete the 3's for the parents of cluster 5
</span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">ExpectedValue3</span><span class="p">)):</span>
    <span class="k">if</span> <span class="n">ExpectedValue3</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">Extra</span> <span class="o">=</span> <span class="n">i</span>
<span class="k">del</span> <span class="n">ExpectedValue3</span><span class="p">[</span><span class="n">Extra</span><span class="p">]</span>

<span class="c1"># Create expected values and round it for simplicity
</span><span class="n">ExpectedValue</span> <span class="o">=</span> <span class="n">ExpectedValue3</span> <span class="o">+</span> <span class="n">ExpectedValue2</span>
<span class="n">ExpectedValueRound</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">round_</span><span class="p">(</span><span class="n">ExpectedValue</span><span class="p">,</span> <span class="n">decimals</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</code></pre></div></div>

<h2 id="analysis">Analysis</h2>

<p>Plot the expected values for the team</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">## Team chart with expected values
</span><span class="n">ExpectedValue</span> <span class="o">=</span> <span class="n">ExpectedValue3</span> <span class="o">+</span> <span class="n">ExpectedValue2</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">DataFrame</span><span class="p">({</span>
<span class="s">'x'</span><span class="p">:</span> <span class="n">AvLeft3</span> <span class="o">+</span> <span class="n">AvLeft2</span><span class="p">,</span>
<span class="s">'y'</span><span class="p">:</span> <span class="n">AvTop3</span> <span class="o">+</span> <span class="n">AvTop2</span><span class="p">,</span>
<span class="s">'group'</span><span class="p">:</span> <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">ExpectedValueRound</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span><span class="nb">str</span><span class="p">(</span><span class="n">ExpectedValueRound</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span><span class="nb">str</span><span class="p">(</span><span class="n">ExpectedValueRound</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span>
          <span class="nb">str</span><span class="p">(</span><span class="n">ExpectedValueRound</span><span class="p">[</span><span class="mi">3</span><span class="p">]),</span><span class="nb">str</span><span class="p">(</span><span class="n">ExpectedValueRound</span><span class="p">[</span><span class="mi">4</span><span class="p">]),</span><span class="nb">str</span><span class="p">(</span><span class="n">ExpectedValueRound</span><span class="p">[</span><span class="mi">5</span><span class="p">]),</span>
          <span class="nb">str</span><span class="p">(</span><span class="n">ExpectedValueRound</span><span class="p">[</span><span class="mi">6</span><span class="p">]),</span><span class="nb">str</span><span class="p">(</span><span class="n">ExpectedValueRound</span><span class="p">[</span><span class="mi">7</span><span class="p">]),</span><span class="nb">str</span><span class="p">(</span><span class="n">ExpectedValueRound</span><span class="p">[</span><span class="mi">8</span><span class="p">]),</span>
          <span class="nb">str</span><span class="p">(</span><span class="n">ExpectedValueRound</span><span class="p">[</span><span class="mi">9</span><span class="p">]),</span><span class="nb">str</span><span class="p">(</span><span class="n">ExpectedValueRound</span><span class="p">[</span><span class="mi">10</span><span class="p">])]</span>
<span class="p">})</span>

<span class="n">p1</span><span class="o">=</span><span class="n">sns</span><span class="p">.</span><span class="n">regplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s">"x"</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s">"y"</span><span class="p">,</span> <span class="n">fit_reg</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s">"o"</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">"skyblue"</span><span class="p">,</span> <span class="n">scatter_kws</span><span class="o">=</span><span class="p">{</span><span class="s">'s'</span><span class="p">:</span><span class="mi">400</span><span class="p">})</span>
<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">df</span><span class="p">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
    <span class="n">p1</span><span class="p">.</span><span class="n">text</span><span class="p">(</span><span class="n">df</span><span class="p">.</span><span class="n">x</span><span class="p">[</span><span class="n">line</span><span class="p">]</span><span class="o">+</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">df</span><span class="p">.</span><span class="n">y</span><span class="p">[</span><span class="n">line</span><span class="p">],</span> <span class="n">df</span><span class="p">.</span><span class="n">group</span><span class="p">[</span><span class="n">line</span><span class="p">],</span> <span class="n">horizontalalignment</span><span class="o">=</span><span class="s">'left'</span><span class="p">,</span>
            <span class="n">size</span><span class="o">=</span><span class="s">'medium'</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">'black'</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s">'semibold'</span><span class="p">)</span>

<span class="n">plt</span><span class="p">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">extent</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">100.0</span><span class="p">])</span>
<span class="n">plt</span><span class="p">.</span><span class="n">grid</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
<span class="n">sns</span><span class="p">.</span><span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<p><img src="output_50_0.png" alt="png" /></p>

<p>Heat map for the team with color scale</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">x</span> <span class="o">=</span> <span class="n">AvLeft3</span> <span class="o">+</span> <span class="n">AvLeft2</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">AvTop3</span> <span class="o">+</span> <span class="n">AvTop2</span>
<span class="n">B</span> <span class="o">=</span> <span class="n">ExpectedValueRound</span>
<span class="n">low</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nb">min</span><span class="p">(</span><span class="n">B</span><span class="p">)</span>
<span class="n">high</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nb">max</span><span class="p">(</span><span class="n">B</span><span class="p">)</span>
<span class="n">cs</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">c</span><span class="o">=</span><span class="n">B</span><span class="p">,</span><span class="n">cmap</span><span class="o">=</span><span class="n">plt</span><span class="p">.</span><span class="n">cm</span><span class="p">.</span><span class="n">bwr</span><span class="p">,</span><span class="n">vmin</span><span class="o">=</span><span class="n">low</span><span class="p">,</span><span class="n">vmax</span><span class="o">=</span><span class="n">high</span><span class="p">)</span>

<span class="n">plt</span><span class="p">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">cs</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">extent</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">100.0</span><span class="p">])</span>
<span class="n">plt</span><span class="p">.</span><span class="n">grid</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
<span class="c1"># red is hot--high expected value.  blue is cool--low expected value
</span></code></pre></div></div>

<p><img src="output_52_0.png" alt="png" /></p>

<h4 id="as-we-can-see-corner-threes-and-twos-in-they-key-are-the-most-efficient-shots-for-the-jazz-team-overall-the-longer-jumper-twos-are-the-worst-shot-the-jazz-can-shoot-as-a-team-hence-from-this-plot-we-can-take-it-that-shooting-a-two-pointer-isnt-really-worth-it-unless-it-is-inside-the-paint">As we can see, corner threes and twos in they key are the most efficient shots for the Jazz team overall. The longer jumper two’s are the worst shot the Jazz can shoot as a team. Hence, from this plot we can take it that shooting a two pointer isn’t really worth it, unless it is inside the paint.</h4>

<p>Using masking and loops with added logic, we are able to look at all the expected values on the court for each player. We will also print out the values and player name</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># 3 pointers
</span><span class="n">PlayerIDs</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">unique</span><span class="p">(</span><span class="n">ShotsPD</span><span class="p">[</span><span class="s">'shooter'</span><span class="p">])</span>
<span class="n">PlayerNames</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">unique</span><span class="p">(</span><span class="n">ShotsPD</span><span class="p">[</span><span class="s">'shooter_name'</span><span class="p">])</span>
<span class="n">NumOPlayers</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">PlayerNames</span><span class="p">)</span>
<span class="k">for</span> <span class="n">Name</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">NumOPlayers</span><span class="p">):</span>
    <span class="n">PercMadeDif3</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">NumShots</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">NumMade</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">ExpectedValue3</span> <span class="o">=</span><span class="p">[]</span>
    <span class="n">AvLeft3</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">AvTop3</span> <span class="o">=</span><span class="p">[]</span>
    <span class="n">PtVal3</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">PtVal2</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">PercMadeDif2</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">NumShots3</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">NumShots2</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">NumMade3</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">NumMade2</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">ExpectedValue2</span> <span class="o">=</span><span class="p">[]</span>
    <span class="n">ExpectedValueRound</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="n">AvLeft2</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">AvTop2</span> <span class="o">=</span><span class="p">[]</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">6</span><span class="p">):</span>
        <span class="n">Location</span> <span class="o">=</span> <span class="n">ShotsPD</span><span class="p">[(</span><span class="n">ShotsPD</span><span class="p">[</span><span class="s">'LocationCluster'</span><span class="p">]</span><span class="o">==</span><span class="n">i</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">ShotsPD</span><span class="p">[</span><span class="s">'ThreePt'</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">)</span>
                           <span class="o">&amp;</span> <span class="p">(</span> <span class="n">ShotsPD</span><span class="p">[</span><span class="s">'shooter_name'</span><span class="p">]</span> <span class="o">==</span> <span class="n">PlayerNames</span><span class="p">[</span><span class="n">Name</span><span class="p">])]</span>     
        <span class="n">NumShots3</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Location</span><span class="p">[</span><span class="s">'made/missed'</span><span class="p">]))</span>
        <span class="n">NumMade3</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Location</span><span class="p">[</span><span class="n">Location</span><span class="p">[</span><span class="s">'made/missed'</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">]))</span>
        <span class="n">PercMade3</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="n">NumShots3</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">PercMade3</span> <span class="o">=</span> <span class="n">NumMade3</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">/</span> <span class="n">NumShots3</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">PercMadeDif3</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">PercMade3</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">PercMadeDif3</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

        <span class="n">ExpectedValue3</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">PercMadeDif3</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">PtVal3</span><span class="p">)</span>

        <span class="n">AvLeft3</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="n">mean</span><span class="p">(</span><span class="n">Location</span><span class="p">[</span><span class="s">'left'</span><span class="p">]))</span>
        <span class="n">AvTop3</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="n">mean</span><span class="p">(</span><span class="n">Location</span><span class="p">[</span><span class="s">'top'</span><span class="p">]))</span>





        <span class="n">Location</span> <span class="o">=</span> <span class="n">ShotsPD</span><span class="p">[(</span><span class="n">ShotsPD</span><span class="p">[</span><span class="s">'LocationCluster'</span><span class="p">]</span><span class="o">==</span><span class="n">i</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">ShotsPD</span><span class="p">[</span><span class="s">'ThreePt'</span><span class="p">]</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span>
                           <span class="o">&amp;</span> <span class="p">(</span> <span class="n">ShotsPD</span><span class="p">[</span><span class="s">'shooter_name'</span><span class="p">]</span> <span class="o">==</span> <span class="n">PlayerNames</span><span class="p">[</span><span class="n">Name</span><span class="p">])]</span>
        <span class="n">NumShots2</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Location</span><span class="p">[</span><span class="s">'made/missed'</span><span class="p">]))</span>
        <span class="n">NumMade2</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Location</span><span class="p">[</span><span class="n">Location</span><span class="p">[</span><span class="s">'made/missed'</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">]))</span>
        <span class="n">PercMade2</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="n">NumShots2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">PercMade2</span> <span class="o">=</span> <span class="n">NumMade2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">/</span> <span class="n">NumShots2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                <span class="n">PercMadeDif2</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">PercMade2</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
                <span class="n">PercMadeDif2</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">ExpectedValue2</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">PercMadeDif2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">PtVal2</span><span class="p">)</span>

        <span class="n">AvLeft2</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="n">mean</span><span class="p">(</span><span class="n">Location</span><span class="p">[</span><span class="s">'left'</span><span class="p">]))</span>
        <span class="n">AvTop2</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="n">mean</span><span class="p">(</span><span class="n">Location</span><span class="p">[</span><span class="s">'top'</span><span class="p">]))</span>

    <span class="k">print</span><span class="p">(</span><span class="s">'---------------------------------------------------------------'</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">PlayerNames</span><span class="p">[</span><span class="n">Name</span><span class="p">])</span>
    <span class="k">print</span><span class="p">(</span><span class="s">'---------------------'</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">'---- 3 Pointers ----'</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">'Percentages'</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">PercMadeDif3</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">'---------------------'</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">'Expected Values'</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">ExpectedValue3</span><span class="p">)</span>



    <span class="k">print</span><span class="p">(</span><span class="s">'---- 2 Pointers ----'</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">'Percentages'</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">PercMadeDif2</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">'---------------------'</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">'Expected Values'</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">ExpectedValue2</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">mm</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">ExpectedValue3</span><span class="p">)):</span>
        <span class="k">if</span> <span class="n">ExpectedValue3</span><span class="p">[</span><span class="n">mm</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">Extra</span> <span class="o">=</span> <span class="n">mm</span>
    <span class="k">del</span> <span class="n">ExpectedValue3</span><span class="p">[</span><span class="n">Extra</span><span class="p">]</span>

    <span class="n">xx</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">AvLeft3</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">mm</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">AvLeft3</span><span class="p">)):</span>
        <span class="k">if</span>  <span class="n">xx</span><span class="p">[</span><span class="n">mm</span><span class="p">]</span> <span class="o">==</span> <span class="bp">True</span><span class="p">:</span>
            <span class="n">DeleteVar</span> <span class="o">=</span> <span class="n">mm</span>

    <span class="k">del</span> <span class="n">AvLeft3</span><span class="p">[</span><span class="n">DeleteVar</span><span class="p">]</span>
    <span class="k">del</span> <span class="n">AvTop3</span><span class="p">[</span><span class="n">DeleteVar</span><span class="p">]</span>

    <span class="n">ExpectedValue</span> <span class="o">=</span> <span class="n">ExpectedValue3</span> <span class="o">+</span> <span class="n">ExpectedValue2</span>
    <span class="n">ExpectedValueRound</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">round_</span><span class="p">(</span><span class="n">ExpectedValue</span><span class="p">,</span> <span class="n">decimals</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

    <span class="n">AvLefts</span> <span class="o">=</span> <span class="n">AvLeft3</span> <span class="o">+</span> <span class="n">AvLeft2</span>
    <span class="n">AvTops</span> <span class="o">=</span> <span class="n">AvTop3</span> <span class="o">+</span> <span class="n">AvTop2</span>

    <span class="k">for</span> <span class="n">u</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">AvLefts</span><span class="p">)):</span>
        <span class="k">if</span> <span class="n">math</span><span class="p">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">AvLefts</span><span class="p">[</span><span class="n">u</span><span class="p">]):</span>
            <span class="n">AvLefts</span><span class="p">[</span><span class="n">u</span><span class="p">]</span><span class="o">=</span><span class="mi">90</span>
        <span class="k">if</span> <span class="n">math</span><span class="p">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">AvTops</span><span class="p">[</span><span class="n">u</span><span class="p">]):</span>
            <span class="n">AvTops</span><span class="p">[</span><span class="n">u</span><span class="p">]</span><span class="o">=</span> <span class="mi">0</span>


    <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nb">round</span><span class="p">(</span><span class="n">AvLefts</span><span class="p">,</span><span class="n">decimals</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nb">round</span><span class="p">(</span><span class="n">AvTops</span><span class="p">,</span><span class="n">decimals</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">valz</span> <span class="o">=</span> <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">ExpectedValueRound</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span><span class="nb">str</span><span class="p">(</span><span class="n">ExpectedValueRound</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span><span class="nb">str</span><span class="p">(</span><span class="n">ExpectedValueRound</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">ExpectedValueRound</span><span class="p">[</span><span class="mi">3</span><span class="p">]),</span><span class="nb">str</span><span class="p">(</span><span class="n">ExpectedValueRound</span><span class="p">[</span><span class="mi">4</span><span class="p">]),</span><span class="nb">str</span><span class="p">(</span><span class="n">ExpectedValueRound</span><span class="p">[</span><span class="mi">5</span><span class="p">]),</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">ExpectedValueRound</span><span class="p">[</span><span class="mi">6</span><span class="p">]),</span><span class="nb">str</span><span class="p">(</span><span class="n">ExpectedValueRound</span><span class="p">[</span><span class="mi">7</span><span class="p">]),</span><span class="nb">str</span><span class="p">(</span><span class="n">ExpectedValueRound</span><span class="p">[</span><span class="mi">8</span><span class="p">]),</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">ExpectedValueRound</span><span class="p">[</span><span class="mi">9</span><span class="p">]),</span><span class="nb">str</span><span class="p">(</span><span class="n">ExpectedValueRound</span><span class="p">[</span><span class="mi">10</span><span class="p">])]</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s">'x'</span><span class="p">:</span> <span class="n">x</span><span class="p">,</span>
    <span class="s">'y'</span><span class="p">:</span> <span class="n">y</span><span class="p">,</span>
    <span class="s">'group'</span><span class="p">:</span> <span class="n">valz</span>
    <span class="p">})</span>

    <span class="n">p1</span><span class="o">=</span><span class="n">sns</span><span class="p">.</span><span class="n">regplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s">"x"</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s">"y"</span><span class="p">,</span> <span class="n">fit_reg</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s">"o"</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">"skyblue"</span><span class="p">,</span> <span class="n">scatter_kws</span><span class="o">=</span><span class="p">{</span><span class="s">'s'</span><span class="p">:</span><span class="mi">400</span><span class="p">})</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">df</span><span class="p">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
        <span class="n">p1</span><span class="p">.</span><span class="n">text</span><span class="p">(</span><span class="n">df</span><span class="p">.</span><span class="n">x</span><span class="p">[</span><span class="n">line</span><span class="p">]</span><span class="o">+</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">df</span><span class="p">.</span><span class="n">y</span><span class="p">[</span><span class="n">line</span><span class="p">],</span> <span class="n">df</span><span class="p">.</span><span class="n">group</span><span class="p">[</span><span class="n">line</span><span class="p">],</span> <span class="n">horizontalalignment</span><span class="o">=</span><span class="s">'left'</span><span class="p">,</span>
                <span class="n">size</span><span class="o">=</span><span class="s">'medium'</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">'black'</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s">'semibold'</span><span class="p">)</span>

    <span class="n">plt</span><span class="p">.</span><span class="n">title</span><span class="p">(</span><span class="n">PlayerNames</span><span class="p">[</span><span class="n">Name</span><span class="p">])</span>
    <span class="n">plt</span><span class="p">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">extent</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">100.0</span><span class="p">])</span>
    <span class="n">plt</span><span class="p">.</span><span class="n">grid</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
    <span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>

</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---------------------------------------------------------------
Alec Burks
---------------------
---- 3 Pointers ----
Percentages
[0, 0.3888888888888889, 0.4, 0.37142857142857144, 0.2558139534883721, 0.30434782608695654]
---------------------
Expected Values
[0, 1.1666666666666667, 1.2000000000000002, 1.1142857142857143, 0.7674418604651163, 0.9130434782608696]
---- 2 Pointers ----
Percentages
[0.4816753926701571, 0, 0.0, 0.47619047619047616, 0.375, 0.36]
---------------------
Expected Values
[0.9633507853403142, 0, 0.0, 0.9523809523809523, 0.75, 0.72]
</code></pre></div></div>

<p><img src="output_55_1.png" alt="png" /></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---------------------------------------------------------------
Derrick Favors
---------------------
---- 3 Pointers ----
Percentages
[0, 0.26666666666666666, 0.19230769230769232, 0.0, 0, 0.3333333333333333]
---------------------
Expected Values
[0, 0.8, 0.576923076923077, 0.0, 0, 1.0]
---- 2 Pointers ----
Percentages
[0.6680584551148225, 0.3333333333333333, 0.3333333333333333, 0.2413793103448276, 0.3793103448275862, 0.44871794871794873]
---------------------
Expected Values
[1.336116910229645, 0.6666666666666666, 0.6666666666666666, 0.4827586206896552, 0.7586206896551724, 0.8974358974358975]
</code></pre></div></div>

<p><img src="output_55_3.png" alt="png" /></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---------------------------------------------------------------
Donovan Mitchell
---------------------
---- 3 Pointers ----
Percentages
[0, 0.36764705882352944, 0.5555555555555556, 0.271523178807947, 0.3287671232876712, 0.3333333333333333]
---------------------
Expected Values
[0, 1.1029411764705883, 1.6666666666666667, 0.814569536423841, 0.9863013698630136, 1.0]
---- 2 Pointers ----
Percentages
[0.5358931552587646, 0.7, 0.42857142857142855, 0.45454545454545453, 0.32558139534883723, 0.4]
---------------------
Expected Values
[1.0717863105175292, 1.4, 0.8571428571428571, 0.9090909090909091, 0.6511627906976745, 0.8]
</code></pre></div></div>

<p><img src="output_55_5.png" alt="png" /></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---------------------------------------------------------------
Ekpe Udoh
---------------------
---- 3 Pointers ----
Percentages
[0, 0, 0, 0, 0, 0]
---------------------
Expected Values
[0, 0, 0, 0, 0, 0]
---- 2 Pointers ----
Percentages
[0.5357142857142857, 0, 0.0, 0, 0.0, 0]
---------------------
Expected Values
[1.0714285714285714, 0, 0.0, 0, 0.0, 0]
</code></pre></div></div>

<p><img src="output_55_7.png" alt="png" /></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---------------------------------------------------------------
Jae Crowder
---------------------
---- 3 Pointers ----
Percentages
[0, 0.5833333333333334, 0.22580645161290322, 0.2702702702702703, 0.2571428571428571, 0.3333333333333333]
---------------------
Expected Values
[0, 1.75, 0.6774193548387096, 0.8108108108108109, 0.7714285714285714, 1.0]
---- 2 Pointers ----
Percentages
[0.5617977528089888, 0.5, 0.2222222222222222, 0.3125, 0.2, 0.35294117647058826]
---------------------
Expected Values
[1.1235955056179776, 1.0, 0.4444444444444444, 0.625, 0.4, 0.7058823529411765]
</code></pre></div></div>

<p><img src="output_55_9.png" alt="png" /></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---------------------------------------------------------------
Joe Ingles
---------------------
---- 3 Pointers ----
Percentages
[0, 0.45871559633027525, 0.5, 0.43434343434343436, 0.3655913978494624, 0.4642857142857143]
---------------------
Expected Values
[0, 1.3761467889908259, 1.5, 1.3030303030303032, 1.096774193548387, 1.3928571428571428]
---- 2 Pointers ----
Percentages
[0.5621890547263682, 0.5, 0.25, 0.3333333333333333, 0.3, 0.45454545454545453]
---------------------
Expected Values
[1.1243781094527363, 1.0, 0.5, 0.6666666666666666, 0.6, 0.9090909090909091]
</code></pre></div></div>

<p><img src="output_55_11.png" alt="png" /></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---------------------------------------------------------------
Joe Johnson
---------------------
---- 3 Pointers ----
Percentages
[0, 0.3076923076923077, 0.21739130434782608, 0.14285714285714285, 0.35714285714285715, 0.4]
---------------------
Expected Values
[0, 0.9230769230769231, 0.6521739130434783, 0.42857142857142855, 1.0714285714285714, 1.2000000000000002]
---- 2 Pointers ----
Percentages
[0.56, 0.5454545454545454, 0.0, 0.4, 0.43478260869565216, 0.5833333333333334]
---------------------
Expected Values
[1.12, 1.0909090909090908, 0.0, 0.8, 0.8695652173913043, 1.1666666666666667]
</code></pre></div></div>

<p><img src="output_55_13.png" alt="png" /></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---------------------------------------------------------------
Jonas Jerebko
---------------------
---- 3 Pointers ----
Percentages
[0, 0.4883720930232558, 0.4772727272727273, 0.3548387096774194, 0.3333333333333333, 0.2857142857142857]
---------------------
Expected Values
[0, 1.4651162790697674, 1.4318181818181819, 1.064516129032258, 1.0, 0.8571428571428571]
---- 2 Pointers ----
Percentages
[0.5424836601307189, 0.14285714285714285, 0.36363636363636365, 0.2, 0.75, 0.4]
---------------------
Expected Values
[1.0849673202614378, 0.2857142857142857, 0.7272727272727273, 0.4, 1.5, 0.8]
</code></pre></div></div>

<p><img src="output_55_15.png" alt="png" /></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---------------------------------------------------------------
Raul Neto
---------------------
---- 3 Pointers ----
Percentages
[0, 0.5, 0.46153846153846156, 0.375, 0.38461538461538464, 0.2]
---------------------
Expected Values
[0, 1.5, 1.3846153846153846, 1.125, 1.153846153846154, 0.6000000000000001]
---- 2 Pointers ----
Percentages
[0.5232558139534884, 0.25, 0, 0.2857142857142857, 0.14285714285714285, 1.0]
---------------------
Expected Values
[1.0465116279069768, 0.5, 0, 0.5714285714285714, 0.2857142857142857, 2.0]
</code></pre></div></div>

<p><img src="output_55_17.png" alt="png" /></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---------------------------------------------------------------
Ricky Rubio
---------------------
---- 3 Pointers ----
Percentages
[0, 0.2558139534883721, 0.40625, 0.39080459770114945, 0.42857142857142855, 0.23255813953488372]
---------------------
Expected Values
[0, 0.7674418604651163, 1.21875, 1.1724137931034484, 1.2857142857142856, 0.6976744186046512]
---- 2 Pointers ----
Percentages
[0.47346938775510206, 0.45454545454545453, 0.5, 0.40425531914893614, 0.41935483870967744, 0.4772727272727273]
---------------------
Expected Values
[0.9469387755102041, 0.9090909090909091, 1.0, 0.8085106382978723, 0.8387096774193549, 0.9545454545454546]
</code></pre></div></div>

<p><img src="output_55_19.png" alt="png" /></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---------------------------------------------------------------
Rodney Hood
---------------------
---- 3 Pointers ----
Percentages
[0, 0.4074074074074074, 0.26666666666666666, 0.44086021505376344, 0.26666666666666666, 0.423728813559322]
---------------------
Expected Values
[0, 1.222222222222222, 0.8, 1.3225806451612903, 0.8, 1.271186440677966]
---- 2 Pointers ----
Percentages
[0.5220588235294118, 0.375, 0.5, 0.4897959183673469, 0.2653061224489796, 0.4583333333333333]
---------------------
Expected Values
[1.0441176470588236, 0.75, 1.0, 0.9795918367346939, 0.5306122448979592, 0.9166666666666666]
</code></pre></div></div>

<p><img src="output_55_21.png" alt="png" /></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---------------------------------------------------------------
Royce O
---------------------
---- 3 Pointers ----
Percentages
[0, 0.34285714285714286, 0.3684210526315789, 0.4166666666666667, 0.15789473684210525, 0.4]
---------------------
Expected Values
[0, 1.0285714285714285, 1.1052631578947367, 1.25, 0.47368421052631576, 1.2000000000000002]
---- 2 Pointers ----
Percentages
[0.4689655172413793, 0, 0.0, 0.5833333333333334, 0.5, 0.6666666666666666]
---------------------
Expected Values
[0.9379310344827586, 0, 0.0, 1.1666666666666667, 1.0, 1.3333333333333333]
</code></pre></div></div>

<p><img src="output_55_23.png" alt="png" /></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---------------------------------------------------------------
Rudy Gobert
---------------------
---- 3 Pointers ----
Percentages
[0, 0, 0, 0, 0, 0]
---------------------
Expected Values
[0, 0, 0, 0, 0, 0]
---- 2 Pointers ----
Percentages
[0.636150234741784, 0, 0, 0.25, 0, 0.3333333333333333]
---------------------
Expected Values
[1.272300469483568, 0, 0, 0.5, 0, 0.6666666666666666]
</code></pre></div></div>

<p><img src="output_55_25.png" alt="png" /></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---------------------------------------------------------------
Thabo Sefolosha
---------------------
---- 3 Pointers ----
Percentages
[0, 0.45, 0.42857142857142855, 0.35714285714285715, 0.23076923076923078, 0.3333333333333333]
---------------------
Expected Values
[0, 1.35, 1.2857142857142856, 1.0714285714285714, 0.6923076923076923, 1.0]
---- 2 Pointers ----
Percentages
[0.6120689655172413, 0.25, 0.625, 0.3684210526315789, 0.16666666666666666, 0.3333333333333333]
---------------------
Expected Values
[1.2241379310344827, 0.5, 1.25, 0.7368421052631579, 0.3333333333333333, 0.6666666666666666]
</code></pre></div></div>

<p><img src="output_55_27.png" alt="png" /></p>

<h2 id="statistical-significance">Statistical Significance</h2>

<p>At low sampling rates, a given shot could have a high expected value purely by chance.  For example, 25% of the time, a 50% shooter will make two shots in a row.  If those two shots are the only sample we have, we might conclude that the shooter is a 100% shooter.  For this reason, it is important to determine if results are statistically significant, or if they most likely occured by chance.  Hypothesis testing is a good way to measure statistical significance.  It involves formulating a null hypothesis that you would like to disprove, calculating the probability of a given result occurring if you were to assume that the null hypothesis is true, and rejecting the null hypothesis if that probability is sufficiently low.</p>

<h3 id="hypothesis-testing">Hypothesis Testing:</h3>

<p>Player p-test:</p>
<ul>
  <li>Take as the null hypothesis that the shooting percentage for a given shot is less than or equal to the average percentage for that player for threes or twos.</li>
</ul>

<p>Team p-test:</p>
<ul>
  <li>Take as the null hypothesis that the shooting percentage for a given shot is less than or equal to the average percentage for the whole team for threes or twos.</li>
</ul>

<p>Location p-test:</p>
<ul>
  <li>Take as the null hypothesis that the shooting percentage for a given shot is less than or equal to the average percentage for the whole team from that location.</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">shots_array</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">array</span><span class="p">([[</span><span class="s">"shooter"</span><span class="p">,</span> <span class="s">"three"</span><span class="p">,</span> <span class="s">"cluster"</span><span class="p">,</span> <span class="s">'num_shots'</span><span class="p">,</span> <span class="s">"num_makes"</span><span class="p">,</span> <span class="s">"pct"</span><span class="p">,</span> <span class="s">"expectedval"</span><span class="p">,</span>
                         <span class="s">"Player_p"</span><span class="p">,</span> <span class="s">"Team_p"</span><span class="p">,</span> <span class="s">"Location_p"</span><span class="p">]])</span>
<span class="n">threemask</span> <span class="o">=</span> <span class="n">ShotsPD</span><span class="p">[</span><span class="s">"ThreePt"</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span>
<span class="n">twomask</span> <span class="o">=</span> <span class="n">ShotsPD</span><span class="p">[</span><span class="s">"ThreePt"</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span>
<span class="n">threePD</span> <span class="o">=</span> <span class="n">ShotsPD</span><span class="p">[</span><span class="n">threemask</span><span class="p">]</span>
<span class="n">twoPD</span> <span class="o">=</span> <span class="n">ShotsPD</span><span class="p">[</span><span class="n">twomask</span><span class="p">]</span>

<span class="k">for</span> <span class="n">shooter</span> <span class="ow">in</span> <span class="n">threePD</span><span class="p">[</span><span class="s">"shooter_name"</span><span class="p">].</span><span class="n">unique</span><span class="p">():</span>
    <span class="n">mask</span> <span class="o">=</span> <span class="n">threePD</span><span class="p">[</span><span class="s">"shooter_name"</span><span class="p">]</span> <span class="o">==</span> <span class="n">shooter</span>
    <span class="n">ShooterShots</span> <span class="o">=</span> <span class="n">threePD</span><span class="p">[</span><span class="n">mask</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">cluster</span> <span class="ow">in</span> <span class="n">ShooterShots</span><span class="p">[</span><span class="s">"LocationCluster"</span><span class="p">].</span><span class="n">unique</span><span class="p">():</span>
        <span class="n">mask2</span> <span class="o">=</span> <span class="n">ShooterShots</span><span class="p">[</span><span class="s">"LocationCluster"</span><span class="p">]</span> <span class="o">==</span> <span class="n">cluster</span>
        <span class="n">ClusterShots</span> <span class="o">=</span> <span class="n">ShooterShots</span><span class="p">[</span><span class="n">mask2</span><span class="p">]</span>
        <span class="n">num_shots</span> <span class="o">=</span>  <span class="nb">len</span><span class="p">(</span><span class="n">ClusterShots</span><span class="p">)</span>
        <span class="n">mask_made</span> <span class="o">=</span><span class="n">ClusterShots</span><span class="p">[</span><span class="s">"made/missed"</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span>
        <span class="n">num_makes</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">ClusterShots</span><span class="p">[</span><span class="n">mask_made</span><span class="p">])</span>
        <span class="n">pct</span> <span class="o">=</span> <span class="n">num_makes</span><span class="o">/</span><span class="n">num_shots</span>
        <span class="n">expectedval</span> <span class="o">=</span> <span class="n">pct</span><span class="o">*</span><span class="mi">3</span>
        <span class="c1"># player p-value
</span>        <span class="n">avg_pct</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">ShooterShots</span><span class="p">[</span><span class="n">ShooterShots</span><span class="p">[</span><span class="s">"made/missed"</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">])</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">ShooterShots</span><span class="p">)</span>  
        <span class="c1"># total 3 pt avg for this player
</span>        <span class="n">mu</span> <span class="o">=</span> <span class="n">num_shots</span><span class="o">*</span><span class="n">avg_pct</span>  <span class="c1"># mean number of makes for this cluster assuming average shooting
</span>        <span class="n">sigma</span> <span class="o">=</span> <span class="n">sc</span><span class="p">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">mu</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">avg_pct</span><span class="p">))</span>  <span class="c1"># standard deviation?
</span>        <span class="n">player_p</span> <span class="o">=</span> <span class="mi">1</span><span class="o">-</span><span class="n">norm</span><span class="p">.</span><span class="n">cdf</span><span class="p">(</span><span class="n">num_makes</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="n">mu</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">sigma</span><span class="p">)</span>
        <span class="c1"># team p-value
</span>        <span class="n">avg_pct</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">threePD</span><span class="p">[</span><span class="n">threePD</span><span class="p">[</span><span class="s">"made/missed"</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">])</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">threePD</span><span class="p">)</span>  <span class="c1"># total 3 pt avg for the team
</span>        <span class="n">mu</span> <span class="o">=</span> <span class="n">num_shots</span><span class="o">*</span><span class="n">avg_pct</span>
        <span class="n">sigma</span> <span class="o">=</span> <span class="n">sc</span><span class="p">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">mu</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">avg_pct</span><span class="p">))</span>
        <span class="n">team_p</span> <span class="o">=</span> <span class="mi">1</span><span class="o">-</span><span class="n">norm</span><span class="p">.</span><span class="n">cdf</span><span class="p">(</span><span class="n">num_makes</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="n">mu</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">sigma</span><span class="p">)</span>
        <span class="c1"># location p-value
</span>        <span class="n">teamClusterPD</span> <span class="o">=</span> <span class="n">threePD</span><span class="p">[</span><span class="n">threePD</span><span class="p">[</span><span class="s">"LocationCluster"</span><span class="p">]</span> <span class="o">==</span> <span class="n">cluster</span><span class="p">]</span>
        <span class="n">avg_pct</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">teamClusterPD</span><span class="p">[</span><span class="n">teamClusterPD</span><span class="p">[</span><span class="s">"made/missed"</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">])</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">teamClusterPD</span><span class="p">)</span>  
        <span class="c1"># team 3 pt avg from this cluster
</span>        <span class="n">mu</span> <span class="o">=</span> <span class="n">num_shots</span><span class="o">*</span><span class="n">avg_pct</span>
        <span class="n">sigma</span> <span class="o">=</span> <span class="n">sc</span><span class="p">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">mu</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">avg_pct</span><span class="p">))</span>
        <span class="n">location_p</span> <span class="o">=</span> <span class="mi">1</span><span class="o">-</span><span class="n">norm</span><span class="p">.</span><span class="n">cdf</span><span class="p">(</span><span class="n">num_makes</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="n">mu</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">sigma</span><span class="p">)</span>

        <span class="n">shots_array</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">shots_array</span><span class="p">,</span> <span class="p">[[</span><span class="n">shooter</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">cluster</span><span class="p">,</span> <span class="n">num_shots</span><span class="p">,</span>
                                               <span class="n">num_makes</span><span class="p">,</span> <span class="n">pct</span><span class="p">,</span> <span class="n">expectedval</span><span class="p">,</span> <span class="n">player_p</span><span class="p">,</span>
                                               <span class="n">team_p</span><span class="p">,</span> <span class="n">location_p</span><span class="p">]],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="k">for</span> <span class="n">shooter</span> <span class="ow">in</span> <span class="n">twoPD</span><span class="p">[</span><span class="s">"shooter_name"</span><span class="p">].</span><span class="n">unique</span><span class="p">():</span>
    <span class="n">mask</span> <span class="o">=</span> <span class="n">twoPD</span><span class="p">[</span><span class="s">"shooter_name"</span><span class="p">]</span> <span class="o">==</span> <span class="n">shooter</span>
    <span class="n">ShooterShots</span> <span class="o">=</span> <span class="n">twoPD</span><span class="p">[</span><span class="n">mask</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">cluster</span> <span class="ow">in</span> <span class="n">ShooterShots</span><span class="p">[</span><span class="s">"LocationCluster"</span><span class="p">].</span><span class="n">unique</span><span class="p">():</span>
        <span class="n">mask2</span> <span class="o">=</span> <span class="n">ShooterShots</span><span class="p">[</span><span class="s">"LocationCluster"</span><span class="p">]</span> <span class="o">==</span> <span class="n">cluster</span>
        <span class="n">ClusterShots</span> <span class="o">=</span> <span class="n">ShooterShots</span><span class="p">[</span><span class="n">mask2</span><span class="p">]</span>
        <span class="n">num_shots</span> <span class="o">=</span>  <span class="nb">len</span><span class="p">(</span><span class="n">ClusterShots</span><span class="p">)</span>
        <span class="n">mask_made</span> <span class="o">=</span><span class="n">ClusterShots</span><span class="p">[</span><span class="s">"made/missed"</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span>
        <span class="n">num_makes</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">ClusterShots</span><span class="p">[</span><span class="n">mask_made</span><span class="p">])</span>
        <span class="n">pct</span> <span class="o">=</span> <span class="n">num_makes</span><span class="o">/</span><span class="n">num_shots</span>
        <span class="n">expectedval</span> <span class="o">=</span> <span class="n">pct</span><span class="o">*</span><span class="mi">2</span>

        <span class="n">avg_pct</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">ShooterShots</span><span class="p">[</span><span class="n">ShooterShots</span><span class="p">[</span><span class="s">"made/missed"</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">])</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">ShooterShots</span><span class="p">)</span>  
        <span class="c1">#total 3 pt avg for this player
</span>        <span class="n">mu</span> <span class="o">=</span> <span class="n">num_shots</span><span class="o">*</span><span class="n">avg_pct</span>  <span class="c1"># mean number of makes for this cluster
</span>        <span class="n">sigma</span> <span class="o">=</span> <span class="n">sc</span><span class="p">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">mu</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">avg_pct</span><span class="p">))</span>  <span class="c1"># standard deviation?
</span>        <span class="n">player_p</span> <span class="o">=</span> <span class="mi">1</span><span class="o">-</span><span class="n">norm</span><span class="p">.</span><span class="n">cdf</span><span class="p">(</span><span class="n">num_makes</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="n">mu</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">sigma</span><span class="p">)</span>
        <span class="c1"># team p-value
</span>        <span class="n">avg_pct</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">twoPD</span><span class="p">[</span><span class="n">twoPD</span><span class="p">[</span><span class="s">"made/missed"</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">])</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">twoPD</span><span class="p">)</span>  <span class="c1"># total 3 pt avg for the team
</span>        <span class="n">mu</span> <span class="o">=</span> <span class="n">num_shots</span><span class="o">*</span><span class="n">avg_pct</span>
        <span class="n">sigma</span> <span class="o">=</span> <span class="n">sc</span><span class="p">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">mu</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">avg_pct</span><span class="p">))</span>
        <span class="n">team_p</span> <span class="o">=</span> <span class="mi">1</span><span class="o">-</span><span class="n">norm</span><span class="p">.</span><span class="n">cdf</span><span class="p">(</span><span class="n">num_makes</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="n">mu</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">sigma</span><span class="p">)</span>
        <span class="c1"># location p-value
</span>        <span class="n">teamClusterPD</span> <span class="o">=</span> <span class="n">twoPD</span><span class="p">[</span><span class="n">twoPD</span><span class="p">[</span><span class="s">"LocationCluster"</span><span class="p">]</span> <span class="o">==</span> <span class="n">cluster</span><span class="p">]</span>
        <span class="n">avg_pct</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">teamClusterPD</span><span class="p">[</span><span class="n">teamClusterPD</span><span class="p">[</span><span class="s">"made/missed"</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">])</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">teamClusterPD</span><span class="p">)</span>  
        <span class="c1"># team 3 pt avg from this cluster
</span>        <span class="n">mu</span> <span class="o">=</span> <span class="n">num_shots</span><span class="o">*</span><span class="n">avg_pct</span>
        <span class="n">sigma</span> <span class="o">=</span> <span class="n">sc</span><span class="p">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">mu</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">avg_pct</span><span class="p">))</span>
        <span class="n">location_p</span> <span class="o">=</span> <span class="mi">1</span><span class="o">-</span><span class="n">norm</span><span class="p">.</span><span class="n">cdf</span><span class="p">(</span><span class="n">num_makes</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="n">mu</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">sigma</span><span class="p">)</span>

        <span class="n">shots_array</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">shots_array</span><span class="p">,</span> <span class="p">[[</span><span class="n">shooter</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">cluster</span><span class="p">,</span> <span class="n">num_shots</span><span class="p">,</span>
                                               <span class="n">num_makes</span><span class="p">,</span> <span class="n">pct</span><span class="p">,</span> <span class="n">expectedval</span><span class="p">,</span> <span class="n">player_p</span><span class="p">,</span>
                                               <span class="n">team_p</span><span class="p">,</span> <span class="n">location_p</span><span class="p">]],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/Users/averysmith/anaconda/lib/python3.6/site-packages/scipy/stats/_distn_infrastructure.py:1732: RuntimeWarning: invalid value encountered in double_scalars
  x = np.asarray((x - loc)/scale, dtype=dtyp)
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">NewLocationPD</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">shots_array</span><span class="p">[</span><span class="mi">1</span><span class="p">:],</span>
                             <span class="n">columns</span><span class="o">=</span><span class="n">shots_array</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">NewLocationPD</span><span class="p">[</span><span class="s">"three"</span><span class="p">]</span> <span class="o">=</span> <span class="n">NewLocationPD</span><span class="p">[</span><span class="s">"three"</span><span class="p">].</span><span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">NewLocationPD</span><span class="p">[</span><span class="s">"cluster"</span><span class="p">]</span> <span class="o">=</span> <span class="n">NewLocationPD</span><span class="p">[</span><span class="s">"cluster"</span><span class="p">].</span><span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">NewLocationPD</span><span class="p">[</span><span class="s">"num_shots"</span><span class="p">]</span> <span class="o">=</span> <span class="n">NewLocationPD</span><span class="p">[</span><span class="s">"num_shots"</span><span class="p">].</span><span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">NewLocationPD</span><span class="p">[</span><span class="s">"num_makes"</span><span class="p">]</span> <span class="o">=</span> <span class="n">NewLocationPD</span><span class="p">[</span><span class="s">"num_makes"</span><span class="p">].</span><span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">NewLocationPD</span><span class="p">[</span><span class="s">"pct"</span><span class="p">]</span> <span class="o">=</span> <span class="n">NewLocationPD</span><span class="p">[</span><span class="s">"pct"</span><span class="p">].</span><span class="nb">map</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>
<span class="n">NewLocationPD</span><span class="p">[</span><span class="s">"expectedval"</span><span class="p">]</span> <span class="o">=</span> <span class="n">NewLocationPD</span><span class="p">[</span><span class="s">"expectedval"</span><span class="p">].</span><span class="nb">map</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>
<span class="n">NewLocationPD</span><span class="p">[</span><span class="s">"Player_p"</span><span class="p">]</span> <span class="o">=</span> <span class="n">NewLocationPD</span><span class="p">[</span><span class="s">"Player_p"</span><span class="p">].</span><span class="nb">map</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>
<span class="n">NewLocationPD</span><span class="p">[</span><span class="s">"Team_p"</span><span class="p">]</span> <span class="o">=</span> <span class="n">NewLocationPD</span><span class="p">[</span><span class="s">"Team_p"</span><span class="p">].</span><span class="nb">map</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>
<span class="n">NewLocationPD</span><span class="p">[</span><span class="s">"Location_p"</span><span class="p">]</span> <span class="o">=</span> <span class="n">NewLocationPD</span><span class="p">[</span><span class="s">"Location_p"</span><span class="p">].</span><span class="nb">map</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">NewLocationPD</span><span class="p">.</span><span class="n">dtypes</span><span class="p">,</span> <span class="s">'</span><span class="se">\n</span><span class="s">'</span><span class="p">)</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>shooter         object
three            int64
cluster          int64
num_shots        int64
num_makes        int64
pct            float64
expectedval    float64
Player_p       float64
Team_p         float64
Location_p     float64
dtype: object
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># print the 40 best expected value shots()
</span><span class="n">NewLocationPD</span><span class="p">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s">"expectedval"</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="bp">False</span><span class="p">).</span><span class="n">head</span><span class="p">(</span><span class="mi">40</span><span class="p">)</span>
</code></pre></div></div>

<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>shooter</th>
      <th>three</th>
      <th>cluster</th>
      <th>num_shots</th>
      <th>num_makes</th>
      <th>pct</th>
      <th>expectedval</th>
      <th>Player_p</th>
      <th>Team_p</th>
      <th>Location_p</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>68</th>
      <td>Rudy Gobert</td>
      <td>0</td>
      <td>4</td>
      <td>1</td>
      <td>1</td>
      <td>1.000000</td>
      <td>2.000000</td>
      <td>0.219013</td>
      <td>1.654043e-01</td>
      <td>0.084870</td>
    </tr>
    <tr>
      <th>120</th>
      <td>Raul Neto</td>
      <td>0</td>
      <td>5</td>
      <td>2</td>
      <td>2</td>
      <td>1.000000</td>
      <td>2.000000</td>
      <td>0.070967</td>
      <td>8.451872e-02</td>
      <td>0.055618</td>
    </tr>
    <tr>
      <th>127</th>
      <td>Royce O</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1.000000</td>
      <td>2.000000</td>
      <td>0.148750</td>
      <td>1.654043e-01</td>
      <td>0.124909</td>
    </tr>
    <tr>
      <th>56</th>
      <td>Jae Crowder</td>
      <td>1</td>
      <td>1</td>
      <td>24</td>
      <td>14</td>
      <td>0.583333</td>
      <td>1.750000</td>
      <td>0.002547</td>
      <td>1.302116e-02</td>
      <td>0.032321</td>
    </tr>
    <tr>
      <th>15</th>
      <td>Donovan Mitchell</td>
      <td>1</td>
      <td>2</td>
      <td>45</td>
      <td>25</td>
      <td>0.555556</td>
      <td>1.666667</td>
      <td>0.001011</td>
      <td>3.902713e-03</td>
      <td>0.017140</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Joe Ingles</td>
      <td>1</td>
      <td>2</td>
      <td>82</td>
      <td>41</td>
      <td>0.500000</td>
      <td>1.500000</td>
      <td>0.144763</td>
      <td>5.447301e-03</td>
      <td>0.033559</td>
    </tr>
    <tr>
      <th>43</th>
      <td>Raul Neto</td>
      <td>1</td>
      <td>1</td>
      <td>6</td>
      <td>3</td>
      <td>0.500000</td>
      <td>1.500000</td>
      <td>0.308538</td>
      <td>2.455023e-01</td>
      <td>0.306089</td>
    </tr>
    <tr>
      <th>133</th>
      <td>Jonas Jerebko</td>
      <td>0</td>
      <td>4</td>
      <td>4</td>
      <td>3</td>
      <td>0.750000</td>
      <td>1.500000</td>
      <td>0.166598</td>
      <td>1.724358e-01</td>
      <td>0.044999</td>
    </tr>
    <tr>
      <th>53</th>
      <td>Jonas Jerebko</td>
      <td>1</td>
      <td>1</td>
      <td>43</td>
      <td>21</td>
      <td>0.488372</td>
      <td>1.465116</td>
      <td>0.170106</td>
      <td>4.596406e-02</td>
      <td>0.114789</td>
    </tr>
    <tr>
      <th>51</th>
      <td>Jonas Jerebko</td>
      <td>1</td>
      <td>2</td>
      <td>44</td>
      <td>21</td>
      <td>0.477273</td>
      <td>1.431818</td>
      <td>0.207412</td>
      <td>6.035049e-02</td>
      <td>0.150673</td>
    </tr>
    <tr>
      <th>76</th>
      <td>Donovan Mitchell</td>
      <td>0</td>
      <td>1</td>
      <td>10</td>
      <td>7</td>
      <td>0.700000</td>
      <td>1.400000</td>
      <td>0.099649</td>
      <td>1.195645e-01</td>
      <td>0.042443</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Joe Ingles</td>
      <td>1</td>
      <td>5</td>
      <td>56</td>
      <td>26</td>
      <td>0.464286</td>
      <td>1.392857</td>
      <td>0.368013</td>
      <td>6.071480e-02</td>
      <td>0.041625</td>
    </tr>
    <tr>
      <th>41</th>
      <td>Raul Neto</td>
      <td>1</td>
      <td>2</td>
      <td>13</td>
      <td>6</td>
      <td>0.461538</td>
      <td>1.384615</td>
      <td>0.325306</td>
      <td>2.340261e-01</td>
      <td>0.327786</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Joe Ingles</td>
      <td>1</td>
      <td>1</td>
      <td>109</td>
      <td>50</td>
      <td>0.458716</td>
      <td>1.376147</td>
      <td>0.361958</td>
      <td>2.067597e-02</td>
      <td>0.100186</td>
    </tr>
    <tr>
      <th>31</th>
      <td>Thabo Sefolosha</td>
      <td>1</td>
      <td>1</td>
      <td>20</td>
      <td>9</td>
      <td>0.450000</td>
      <td>1.350000</td>
      <td>0.267932</td>
      <td>2.139309e-01</td>
      <td>0.319572</td>
    </tr>
    <tr>
      <th>60</th>
      <td>Derrick Favors</td>
      <td>0</td>
      <td>0</td>
      <td>479</td>
      <td>320</td>
      <td>0.668058</td>
      <td>1.336117</td>
      <td>0.000679</td>
      <td>7.471357e-12</td>
      <td>0.000002</td>
    </tr>
    <tr>
      <th>126</th>
      <td>Royce O</td>
      <td>0</td>
      <td>5</td>
      <td>3</td>
      <td>2</td>
      <td>0.666667</td>
      <td>1.333333</td>
      <td>0.258235</td>
      <td>2.983175e-01</td>
      <td>0.215423</td>
    </tr>
    <tr>
      <th>10</th>
      <td>Rodney Hood</td>
      <td>1</td>
      <td>3</td>
      <td>93</td>
      <td>41</td>
      <td>0.440860</td>
      <td>1.322581</td>
      <td>0.120899</td>
      <td>6.343204e-02</td>
      <td>0.042846</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Joe Ingles</td>
      <td>1</td>
      <td>3</td>
      <td>99</td>
      <td>43</td>
      <td>0.434343</td>
      <td>1.303030</td>
      <td>0.560276</td>
      <td>7.488420e-02</td>
      <td>0.050744</td>
    </tr>
    <tr>
      <th>30</th>
      <td>Thabo Sefolosha</td>
      <td>1</td>
      <td>2</td>
      <td>28</td>
      <td>12</td>
      <td>0.428571</td>
      <td>1.285714</td>
      <td>0.308814</td>
      <td>2.411689e-01</td>
      <td>0.382603</td>
    </tr>
    <tr>
      <th>27</th>
      <td>Ricky Rubio</td>
      <td>1</td>
      <td>4</td>
      <td>35</td>
      <td>15</td>
      <td>0.428571</td>
      <td>1.285714</td>
      <td>0.174564</td>
      <td>2.160885e-01</td>
      <td>0.081620</td>
    </tr>
    <tr>
      <th>66</th>
      <td>Rudy Gobert</td>
      <td>0</td>
      <td>0</td>
      <td>426</td>
      <td>271</td>
      <td>0.636150</td>
      <td>1.272300</td>
      <td>0.308772</td>
      <td>2.249937e-07</td>
      <td>0.001403</td>
    </tr>
    <tr>
      <th>13</th>
      <td>Rodney Hood</td>
      <td>1</td>
      <td>5</td>
      <td>59</td>
      <td>25</td>
      <td>0.423729</td>
      <td>1.271186</td>
      <td>0.254158</td>
      <td>1.729582e-01</td>
      <td>0.130013</td>
    </tr>
    <tr>
      <th>48</th>
      <td>Royce O</td>
      <td>1</td>
      <td>3</td>
      <td>12</td>
      <td>5</td>
      <td>0.416667</td>
      <td>1.250000</td>
      <td>0.270146</td>
      <td>3.541097e-01</td>
      <td>0.329155</td>
    </tr>
    <tr>
      <th>104</th>
      <td>Thabo Sefolosha</td>
      <td>0</td>
      <td>2</td>
      <td>8</td>
      <td>5</td>
      <td>0.625000</td>
      <td>1.250000</td>
      <td>0.329155</td>
      <td>2.648511e-01</td>
      <td>0.056156</td>
    </tr>
    <tr>
      <th>100</th>
      <td>Thabo Sefolosha</td>
      <td>0</td>
      <td>0</td>
      <td>116</td>
      <td>71</td>
      <td>0.612069</td>
      <td>1.224138</td>
      <td>0.080125</td>
      <td>1.723821e-02</td>
      <td>0.150045</td>
    </tr>
    <tr>
      <th>12</th>
      <td>Rodney Hood</td>
      <td>1</td>
      <td>1</td>
      <td>27</td>
      <td>11</td>
      <td>0.407407</td>
      <td>1.222222</td>
      <td>0.392461</td>
      <td>3.222499e-01</td>
      <td>0.463034</td>
    </tr>
    <tr>
      <th>24</th>
      <td>Ricky Rubio</td>
      <td>1</td>
      <td>2</td>
      <td>64</td>
      <td>26</td>
      <td>0.406250</td>
      <td>1.218750</td>
      <td>0.186086</td>
      <td>2.447323e-01</td>
      <td>0.465276</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Joe Johnson</td>
      <td>1</td>
      <td>5</td>
      <td>5</td>
      <td>2</td>
      <td>0.400000</td>
      <td>1.200000</td>
      <td>0.253123</td>
      <td>4.348063e-01</td>
      <td>0.414141</td>
    </tr>
    <tr>
      <th>38</th>
      <td>Alec Burks</td>
      <td>1</td>
      <td>2</td>
      <td>15</td>
      <td>6</td>
      <td>0.400000</td>
      <td>1.200000</td>
      <td>0.277314</td>
      <td>3.880836e-01</td>
      <td>0.502873</td>
    </tr>
    <tr>
      <th>45</th>
      <td>Royce O</td>
      <td>1</td>
      <td>5</td>
      <td>10</td>
      <td>4</td>
      <td>0.400000</td>
      <td>1.200000</td>
      <td>0.327360</td>
      <td>4.082131e-01</td>
      <td>0.379516</td>
    </tr>
    <tr>
      <th>26</th>
      <td>Ricky Rubio</td>
      <td>1</td>
      <td>3</td>
      <td>87</td>
      <td>34</td>
      <td>0.390805</td>
      <td>1.172414</td>
      <td>0.229947</td>
      <td>3.062398e-01</td>
      <td>0.246089</td>
    </tr>
    <tr>
      <th>85</th>
      <td>Joe Johnson</td>
      <td>0</td>
      <td>5</td>
      <td>12</td>
      <td>7</td>
      <td>0.583333</td>
      <td>1.166667</td>
      <td>0.298303</td>
      <td>3.152880e-01</td>
      <td>0.160097</td>
    </tr>
    <tr>
      <th>125</th>
      <td>Royce O</td>
      <td>0</td>
      <td>3</td>
      <td>12</td>
      <td>7</td>
      <td>0.583333</td>
      <td>1.166667</td>
      <td>0.235837</td>
      <td>3.152880e-01</td>
      <td>0.099837</td>
    </tr>
    <tr>
      <th>37</th>
      <td>Alec Burks</td>
      <td>1</td>
      <td>1</td>
      <td>18</td>
      <td>7</td>
      <td>0.388889</td>
      <td>1.166667</td>
      <td>0.292241</td>
      <td>4.154618e-01</td>
      <td>0.533750</td>
    </tr>
    <tr>
      <th>42</th>
      <td>Raul Neto</td>
      <td>1</td>
      <td>4</td>
      <td>13</td>
      <td>5</td>
      <td>0.384615</td>
      <td>1.153846</td>
      <td>0.545075</td>
      <td>4.406020e-01</td>
      <td>0.305157</td>
    </tr>
    <tr>
      <th>40</th>
      <td>Raul Neto</td>
      <td>1</td>
      <td>3</td>
      <td>8</td>
      <td>3</td>
      <td>0.375000</td>
      <td>1.125000</td>
      <td>0.557383</td>
      <td>4.757867e-01</td>
      <td>0.454265</td>
    </tr>
    <tr>
      <th>106</th>
      <td>Joe Ingles</td>
      <td>0</td>
      <td>0</td>
      <td>201</td>
      <td>113</td>
      <td>0.562189</td>
      <td>1.124378</td>
      <td>0.053589</td>
      <td>8.558441e-02</td>
      <td>0.524781</td>
    </tr>
    <tr>
      <th>135</th>
      <td>Jae Crowder</td>
      <td>0</td>
      <td>0</td>
      <td>89</td>
      <td>50</td>
      <td>0.561798</td>
      <td>1.123596</td>
      <td>0.019917</td>
      <td>1.832057e-01</td>
      <td>0.519463</td>
    </tr>
    <tr>
      <th>83</th>
      <td>Joe Johnson</td>
      <td>0</td>
      <td>0</td>
      <td>75</td>
      <td>42</td>
      <td>0.560000</td>
      <td>1.120000</td>
      <td>0.179038</td>
      <td>2.124386e-01</td>
      <td>0.530371</td>
    </tr>
  </tbody>
</table>
</div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># identify the mean location for each of the six clusters identified through kMeans
# (ignoring two and three point differences)
</span><span class="n">left_coordinates</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">array</span><span class="p">([])</span>
<span class="n">top_coordinates</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">array</span><span class="p">([])</span>
<span class="n">clusters</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
<span class="k">for</span> <span class="n">cluster</span> <span class="ow">in</span> <span class="n">clusters</span><span class="p">:</span>
    <span class="n">cluster_mask</span> <span class="o">=</span> <span class="n">ShotsPD</span><span class="p">[</span><span class="s">'LocationCluster'</span><span class="p">]</span> <span class="o">==</span> <span class="n">cluster</span>
    <span class="n">cluster_df</span> <span class="o">=</span> <span class="n">ShotsPD</span><span class="p">[</span><span class="n">cluster_mask</span><span class="p">]</span>
    <span class="n">left_coord</span> <span class="o">=</span> <span class="n">cluster_df</span><span class="p">[</span><span class="s">"left"</span><span class="p">].</span><span class="n">mean</span><span class="p">()</span>
    <span class="n">top_coord</span> <span class="o">=</span> <span class="n">cluster_df</span><span class="p">[</span><span class="s">"top"</span><span class="p">].</span><span class="n">mean</span><span class="p">()</span>
    <span class="n">left_coordinates</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">left_coordinates</span><span class="p">,</span> <span class="n">left_coord</span><span class="p">)</span>
    <span class="n">top_coordinates</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">top_coordinates</span><span class="p">,</span> <span class="n">top_coord</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># plot the mean location of each cluster on the court for reference purposes
</span><span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="n">sns</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">DataFrame</span><span class="p">({</span>
<span class="s">'x'</span><span class="p">:</span> <span class="n">left_coordinates</span><span class="p">,</span>
<span class="s">'y'</span><span class="p">:</span> <span class="n">top_coordinates</span><span class="p">,</span>
<span class="s">'group'</span><span class="p">:</span> <span class="n">clusters</span>
<span class="p">})</span>

<span class="n">p1</span><span class="o">=</span><span class="n">sns</span><span class="p">.</span><span class="n">regplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s">"x"</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s">"y"</span><span class="p">,</span> <span class="n">fit_reg</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s">"o"</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">"skyblue"</span><span class="p">,</span> <span class="n">scatter_kws</span><span class="o">=</span><span class="p">{</span><span class="s">'s'</span><span class="p">:</span><span class="mi">400</span><span class="p">})</span>
<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">df</span><span class="p">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
    <span class="n">p1</span><span class="p">.</span><span class="n">text</span><span class="p">(</span><span class="n">df</span><span class="p">.</span><span class="n">x</span><span class="p">[</span><span class="n">line</span><span class="p">]</span><span class="o">+</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">df</span><span class="p">.</span><span class="n">y</span><span class="p">[</span><span class="n">line</span><span class="p">],</span> <span class="n">df</span><span class="p">.</span><span class="n">group</span><span class="p">[</span><span class="n">line</span><span class="p">],</span> <span class="n">horizontalalignment</span><span class="o">=</span><span class="s">'left'</span><span class="p">,</span>
            <span class="n">size</span><span class="o">=</span><span class="s">'medium'</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">'black'</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s">'semibold'</span><span class="p">)</span>

<span class="n">plt</span><span class="p">.</span><span class="n">title</span><span class="p">(</span><span class="s">'Clusters'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">extent</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">100.0</span><span class="p">])</span>
<span class="n">plt</span><span class="p">.</span><span class="n">grid</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<p><img src="output_64_0.png" alt="png" /></p>

<p>We choose a threshold for significance of p &lt; .05 in order to reject the null hypothesis.</p>

<p>For each p-test we used, we filter the results for only the statistically significant shots.</p>

<p>The way to interpret these p-values is: if that location was not better than average (for the player or team as a whole), then the p-value represents the probability that the player would still, by coincidence, shoot as well from that location as they did.</p>

<h4 id="player-p-test">Player p-test</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">statistically_significant_mask</span> <span class="o">=</span> <span class="n">NewLocationPD</span><span class="p">[</span><span class="s">"Player_p"</span><span class="p">]</span> <span class="o">&lt;</span> <span class="p">.</span><span class="mi">05</span>
<span class="n">SignificantPD</span> <span class="o">=</span> <span class="n">NewLocationPD</span><span class="p">[</span><span class="n">statistically_significant_mask</span><span class="p">]</span>
<span class="n">SignificantPD</span><span class="p">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s">"expectedval"</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</code></pre></div></div>

<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>shooter</th>
      <th>three</th>
      <th>cluster</th>
      <th>num_shots</th>
      <th>num_makes</th>
      <th>pct</th>
      <th>expectedval</th>
      <th>Player_p</th>
      <th>Team_p</th>
      <th>Location_p</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>56</th>
      <td>Jae Crowder</td>
      <td>1</td>
      <td>1</td>
      <td>24</td>
      <td>14</td>
      <td>0.583333</td>
      <td>1.750000</td>
      <td>0.002547</td>
      <td>1.302116e-02</td>
      <td>0.032321</td>
    </tr>
    <tr>
      <th>15</th>
      <td>Donovan Mitchell</td>
      <td>1</td>
      <td>2</td>
      <td>45</td>
      <td>25</td>
      <td>0.555556</td>
      <td>1.666667</td>
      <td>0.001011</td>
      <td>3.902713e-03</td>
      <td>0.017140</td>
    </tr>
    <tr>
      <th>60</th>
      <td>Derrick Favors</td>
      <td>0</td>
      <td>0</td>
      <td>479</td>
      <td>320</td>
      <td>0.668058</td>
      <td>1.336117</td>
      <td>0.000679</td>
      <td>7.471357e-12</td>
      <td>0.000002</td>
    </tr>
    <tr>
      <th>135</th>
      <td>Jae Crowder</td>
      <td>0</td>
      <td>0</td>
      <td>89</td>
      <td>50</td>
      <td>0.561798</td>
      <td>1.123596</td>
      <td>0.019917</td>
      <td>1.832057e-01</td>
      <td>0.519463</td>
    </tr>
    <tr>
      <th>71</th>
      <td>Donovan Mitchell</td>
      <td>0</td>
      <td>0</td>
      <td>599</td>
      <td>321</td>
      <td>0.535893</td>
      <td>1.071786</td>
      <td>0.028644</td>
      <td>1.412531e-01</td>
      <td>0.920028</td>
    </tr>
  </tbody>
</table>
</div>

<p>This indicates that Jae Crowder shoots significantly better from the right corner than he does from any other three point location, and Donovan Mitchell shoots significantly better from the left corner than he does from any other three point location.  This information could help coaches modify the offense so that Crowder and Mitchell spend more time on the right and left side respectively.</p>

<p>Unsurprisingly, we found that Derrick Favors, Jae Crowder, and Donovan Mitchell all shoot better from the post than they do from any other two-point position.  That is unsurprising because the post is much closer to the basket than other locations, and is expected to have a better shooting percentage.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">statistically_significant_mask</span> <span class="o">=</span> <span class="n">NewLocationPD</span><span class="p">[</span><span class="s">"Team_p"</span><span class="p">]</span> <span class="o">&lt;</span> <span class="p">.</span><span class="mi">05</span>
<span class="n">TeamSignificantPD</span> <span class="o">=</span> <span class="n">NewLocationPD</span><span class="p">[</span><span class="n">statistically_significant_mask</span><span class="p">]</span>
<span class="n">TeamSignificantPD</span><span class="p">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s">"expectedval"</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</code></pre></div></div>

<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>shooter</th>
      <th>three</th>
      <th>cluster</th>
      <th>num_shots</th>
      <th>num_makes</th>
      <th>pct</th>
      <th>expectedval</th>
      <th>Player_p</th>
      <th>Team_p</th>
      <th>Location_p</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>56</th>
      <td>Jae Crowder</td>
      <td>1</td>
      <td>1</td>
      <td>24</td>
      <td>14</td>
      <td>0.583333</td>
      <td>1.750000</td>
      <td>0.002547</td>
      <td>1.302116e-02</td>
      <td>0.032321</td>
    </tr>
    <tr>
      <th>15</th>
      <td>Donovan Mitchell</td>
      <td>1</td>
      <td>2</td>
      <td>45</td>
      <td>25</td>
      <td>0.555556</td>
      <td>1.666667</td>
      <td>0.001011</td>
      <td>3.902713e-03</td>
      <td>0.017140</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Joe Ingles</td>
      <td>1</td>
      <td>2</td>
      <td>82</td>
      <td>41</td>
      <td>0.500000</td>
      <td>1.500000</td>
      <td>0.144763</td>
      <td>5.447301e-03</td>
      <td>0.033559</td>
    </tr>
    <tr>
      <th>53</th>
      <td>Jonas Jerebko</td>
      <td>1</td>
      <td>1</td>
      <td>43</td>
      <td>21</td>
      <td>0.488372</td>
      <td>1.465116</td>
      <td>0.170106</td>
      <td>4.596406e-02</td>
      <td>0.114789</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Joe Ingles</td>
      <td>1</td>
      <td>1</td>
      <td>109</td>
      <td>50</td>
      <td>0.458716</td>
      <td>1.376147</td>
      <td>0.361958</td>
      <td>2.067597e-02</td>
      <td>0.100186</td>
    </tr>
    <tr>
      <th>60</th>
      <td>Derrick Favors</td>
      <td>0</td>
      <td>0</td>
      <td>479</td>
      <td>320</td>
      <td>0.668058</td>
      <td>1.336117</td>
      <td>0.000679</td>
      <td>7.471357e-12</td>
      <td>0.000002</td>
    </tr>
    <tr>
      <th>66</th>
      <td>Rudy Gobert</td>
      <td>0</td>
      <td>0</td>
      <td>426</td>
      <td>271</td>
      <td>0.636150</td>
      <td>1.272300</td>
      <td>0.308772</td>
      <td>2.249937e-07</td>
      <td>0.001403</td>
    </tr>
    <tr>
      <th>100</th>
      <td>Thabo Sefolosha</td>
      <td>0</td>
      <td>0</td>
      <td>116</td>
      <td>71</td>
      <td>0.612069</td>
      <td>1.224138</td>
      <td>0.080125</td>
      <td>1.723821e-02</td>
      <td>0.150045</td>
    </tr>
  </tbody>
</table>
</div>

<p>This indicates that the three point shots noted above for Jae Crowder and Donovan Mitchell are also significantly better than the team average for three point shots.  Joe Ingles (an excellent three point shooter) also shoots significantly better from both corners than the team three point average (although he does not shoot significantly better from the corners than he does from the other three point spots because his overall three point shooting percentage is so high).  Jonas Jerebko also shoots significantly better from the right corner than the team average for three pointers.</p>

<p>For two pointers, we now find that Derrick Favors, Rudy Gobert, and Thabo Sefolosha all shoot significantly better from the post than the team average for two pointers.  The p-values for Derrick Favors and Rudy Gobert are extremely small, partially due to the large number of shots taken by both players from that location (&gt;400).  Rudy Gobert likely didn’t show up on the previous list because such a high percentage of his shots are taken from the post that two point percentage is effectively the same as his shooting percentage from the post.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">statistically_significant_mask</span> <span class="o">=</span> <span class="n">NewLocationPD</span><span class="p">[</span><span class="s">"Location_p"</span><span class="p">]</span> <span class="o">&lt;</span> <span class="p">.</span><span class="mi">05</span>
<span class="n">LocationSignificantPD</span> <span class="o">=</span> <span class="n">NewLocationPD</span><span class="p">[</span><span class="n">statistically_significant_mask</span><span class="p">]</span>
<span class="n">LocationSignificantPD</span><span class="p">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s">"expectedval"</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</code></pre></div></div>

<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>shooter</th>
      <th>three</th>
      <th>cluster</th>
      <th>num_shots</th>
      <th>num_makes</th>
      <th>pct</th>
      <th>expectedval</th>
      <th>Player_p</th>
      <th>Team_p</th>
      <th>Location_p</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>56</th>
      <td>Jae Crowder</td>
      <td>1</td>
      <td>1</td>
      <td>24</td>
      <td>14</td>
      <td>0.583333</td>
      <td>1.750000</td>
      <td>0.002547</td>
      <td>1.302116e-02</td>
      <td>0.032321</td>
    </tr>
    <tr>
      <th>15</th>
      <td>Donovan Mitchell</td>
      <td>1</td>
      <td>2</td>
      <td>45</td>
      <td>25</td>
      <td>0.555556</td>
      <td>1.666667</td>
      <td>0.001011</td>
      <td>3.902713e-03</td>
      <td>0.017140</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Joe Ingles</td>
      <td>1</td>
      <td>2</td>
      <td>82</td>
      <td>41</td>
      <td>0.500000</td>
      <td>1.500000</td>
      <td>0.144763</td>
      <td>5.447301e-03</td>
      <td>0.033559</td>
    </tr>
    <tr>
      <th>133</th>
      <td>Jonas Jerebko</td>
      <td>0</td>
      <td>4</td>
      <td>4</td>
      <td>3</td>
      <td>0.750000</td>
      <td>1.500000</td>
      <td>0.166598</td>
      <td>1.724358e-01</td>
      <td>0.044999</td>
    </tr>
    <tr>
      <th>76</th>
      <td>Donovan Mitchell</td>
      <td>0</td>
      <td>1</td>
      <td>10</td>
      <td>7</td>
      <td>0.700000</td>
      <td>1.400000</td>
      <td>0.099649</td>
      <td>1.195645e-01</td>
      <td>0.042443</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Joe Ingles</td>
      <td>1</td>
      <td>5</td>
      <td>56</td>
      <td>26</td>
      <td>0.464286</td>
      <td>1.392857</td>
      <td>0.368013</td>
      <td>6.071480e-02</td>
      <td>0.041625</td>
    </tr>
    <tr>
      <th>60</th>
      <td>Derrick Favors</td>
      <td>0</td>
      <td>0</td>
      <td>479</td>
      <td>320</td>
      <td>0.668058</td>
      <td>1.336117</td>
      <td>0.000679</td>
      <td>7.471357e-12</td>
      <td>0.000002</td>
    </tr>
    <tr>
      <th>10</th>
      <td>Rodney Hood</td>
      <td>1</td>
      <td>3</td>
      <td>93</td>
      <td>41</td>
      <td>0.440860</td>
      <td>1.322581</td>
      <td>0.120899</td>
      <td>6.343204e-02</td>
      <td>0.042846</td>
    </tr>
    <tr>
      <th>66</th>
      <td>Rudy Gobert</td>
      <td>0</td>
      <td>0</td>
      <td>426</td>
      <td>271</td>
      <td>0.636150</td>
      <td>1.272300</td>
      <td>0.308772</td>
      <td>2.249937e-07</td>
      <td>0.001403</td>
    </tr>
  </tbody>
</table>
</div>

<p>The last hypothesis tested was whether certain players shot much better than the team average for that specific location.  Apart from identifying some of the same shots as above, this test would be expected to ffind some players who shoot exceptionally well from more difficult spots.</p>

<p>Jonas Jerebko shooting two pointers from the right wing, Donovan Mitchell shooting two pointers from the right corner, Joe Ingles shooting from the top of the three-point arc, and Rodney Hood shooting three pointers from the left wing would all appear to fit in this category, although each falls just at the limits of statistical significance (.4 &lt; p &lt; .5).</p>

<p><strong>Conclusions</strong>
This information can help coaches and decision-makers design offensive sets and plays, and can help players with shot-selection.<br />
For example, for the first p-test, we would advise Donovan Mitchell to take more three point shots from the left corner, and Jae Crowder to take more from the right corner.  Coaches could design their offense so both players spend more time on those sides.  We would also advise Donovan Mitchell to drive all the way to the basket when taking a two-point shot.</p>

<p>For the second p-test, we would advise the coaches to develop their offense to maximize corner threes by Crowder, Mitchell, Ingles, and Jerebko, and post shots by Favors and Gobert.</p>

<h2 id="some-additional-analysis">Some additional Analysis</h2>

<h3 id="home-and-away-differences">Home and Away Differences</h3>
<ul>
  <li>We wanted to explore how the expected values for each player differ in home games vs away games. Once agian, we used simple masking to compare how players shoot home and away</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">## HOME
</span>
<span class="c1"># 3 pointers
</span><span class="n">PlayerIDs</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">unique</span><span class="p">(</span><span class="n">ShotsPD</span><span class="p">[</span><span class="s">'shooter'</span><span class="p">])</span>
<span class="n">PlayerNames</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">unique</span><span class="p">(</span><span class="n">ShotsPD</span><span class="p">[</span><span class="s">'shooter_name'</span><span class="p">])</span>
<span class="n">NumOPlayers</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">PlayerNames</span><span class="p">)</span>
<span class="k">for</span> <span class="n">Name</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">NumOPlayers</span><span class="p">):</span>
    <span class="n">PercMadeDif3</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">NumShots</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">NumMade</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">ExpectedValue3</span> <span class="o">=</span><span class="p">[]</span>
    <span class="n">AvLeft3</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">AvTop3</span> <span class="o">=</span><span class="p">[]</span>
    <span class="n">PtVal3</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">PtVal2</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">PercMadeDif2</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">NumShots3</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">NumShots2</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">NumMade3</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">NumMade2</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">ExpectedValue2</span> <span class="o">=</span><span class="p">[]</span>
    <span class="n">ExpectedValueRound</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="n">AvLeft2</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">AvTop2</span> <span class="o">=</span><span class="p">[]</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">6</span><span class="p">):</span>
        <span class="n">Location</span> <span class="o">=</span> <span class="n">ShotsPD</span><span class="p">[(</span><span class="n">ShotsPD</span><span class="p">[</span><span class="s">'LocationCluster'</span><span class="p">]</span><span class="o">==</span><span class="n">i</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">ShotsPD</span><span class="p">[</span><span class="s">'ThreePt'</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">)</span>
                           <span class="o">&amp;</span> <span class="p">(</span> <span class="n">ShotsPD</span><span class="p">[</span><span class="s">'shooter_name'</span><span class="p">]</span> <span class="o">==</span> <span class="n">PlayerNames</span><span class="p">[</span><span class="n">Name</span><span class="p">])</span><span class="o">&amp;</span> <span class="p">(</span> <span class="n">ShotsPD</span><span class="p">[</span><span class="s">'home/away'</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">]</span>     
        <span class="n">NumShots3</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Location</span><span class="p">[</span><span class="s">'made/missed'</span><span class="p">]))</span>
        <span class="n">NumMade3</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Location</span><span class="p">[</span><span class="n">Location</span><span class="p">[</span><span class="s">'made/missed'</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">]))</span>
        <span class="n">PercMade3</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="n">NumShots3</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">PercMade3</span> <span class="o">=</span> <span class="n">NumMade3</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">/</span> <span class="n">NumShots3</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">PercMadeDif3</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">PercMade3</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">PercMadeDif3</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

        <span class="n">ExpectedValue3</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">PercMadeDif3</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">PtVal3</span><span class="p">)</span>

        <span class="n">AvLeft3</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="n">mean</span><span class="p">(</span><span class="n">Location</span><span class="p">[</span><span class="s">'left'</span><span class="p">]))</span>
        <span class="n">AvTop3</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="n">mean</span><span class="p">(</span><span class="n">Location</span><span class="p">[</span><span class="s">'top'</span><span class="p">]))</span>





        <span class="n">Location</span> <span class="o">=</span> <span class="n">ShotsPD</span><span class="p">[(</span><span class="n">ShotsPD</span><span class="p">[</span><span class="s">'LocationCluster'</span><span class="p">]</span><span class="o">==</span><span class="n">i</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">ShotsPD</span><span class="p">[</span><span class="s">'ThreePt'</span><span class="p">]</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span>
                           <span class="o">&amp;</span> <span class="p">(</span> <span class="n">ShotsPD</span><span class="p">[</span><span class="s">'shooter_name'</span><span class="p">]</span> <span class="o">==</span> <span class="n">PlayerNames</span><span class="p">[</span><span class="n">Name</span><span class="p">])</span> <span class="o">&amp;</span> <span class="p">(</span> <span class="n">ShotsPD</span><span class="p">[</span><span class="s">'home/away'</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">]</span>
        <span class="n">NumShots2</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Location</span><span class="p">[</span><span class="s">'made/missed'</span><span class="p">]))</span>
        <span class="n">NumMade2</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Location</span><span class="p">[</span><span class="n">Location</span><span class="p">[</span><span class="s">'made/missed'</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">]))</span>
        <span class="n">PercMade2</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="n">NumShots2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">PercMade2</span> <span class="o">=</span> <span class="n">NumMade2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">/</span> <span class="n">NumShots2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                <span class="n">PercMadeDif2</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">PercMade2</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
                <span class="n">PercMadeDif2</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">ExpectedValue2</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">PercMadeDif2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">PtVal2</span><span class="p">)</span>

        <span class="n">AvLeft2</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="n">mean</span><span class="p">(</span><span class="n">Location</span><span class="p">[</span><span class="s">'left'</span><span class="p">]))</span>
        <span class="n">AvTop2</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="n">mean</span><span class="p">(</span><span class="n">Location</span><span class="p">[</span><span class="s">'top'</span><span class="p">]))</span>

    <span class="k">print</span><span class="p">(</span><span class="s">'---------------------------------------------------------------'</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">PlayerNames</span><span class="p">[</span><span class="n">Name</span><span class="p">])</span>
    <span class="k">print</span><span class="p">(</span><span class="s">'---------------------'</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">'---- 3 Pointers ----'</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">'Percentages'</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">PercMadeDif3</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">'---------------------'</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">'Expected Values'</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">ExpectedValue3</span><span class="p">)</span>



    <span class="k">print</span><span class="p">(</span><span class="s">'---- 2 Pointers ----'</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">'Percentages'</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">PercMadeDif2</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">'---------------------'</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">'Expected Values'</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">ExpectedValue2</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">mm</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">ExpectedValue3</span><span class="p">)):</span>
        <span class="k">if</span> <span class="n">ExpectedValue3</span><span class="p">[</span><span class="n">mm</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">Extra</span> <span class="o">=</span> <span class="n">mm</span>
    <span class="k">del</span> <span class="n">ExpectedValue3</span><span class="p">[</span><span class="n">Extra</span><span class="p">]</span>

    <span class="n">xx</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">AvLeft3</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">mm</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">AvLeft3</span><span class="p">)):</span>
        <span class="k">if</span>  <span class="n">xx</span><span class="p">[</span><span class="n">mm</span><span class="p">]</span> <span class="o">==</span> <span class="bp">True</span><span class="p">:</span>
            <span class="n">DeleteVar</span> <span class="o">=</span> <span class="n">mm</span>

    <span class="k">del</span> <span class="n">AvLeft3</span><span class="p">[</span><span class="n">DeleteVar</span><span class="p">]</span>
    <span class="k">del</span> <span class="n">AvTop3</span><span class="p">[</span><span class="n">DeleteVar</span><span class="p">]</span>

    <span class="n">ExpectedValue</span> <span class="o">=</span> <span class="n">ExpectedValue3</span> <span class="o">+</span> <span class="n">ExpectedValue2</span>
    <span class="n">ExpectedValueRound</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">round_</span><span class="p">(</span><span class="n">ExpectedValue</span><span class="p">,</span> <span class="n">decimals</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

    <span class="n">AvLefts</span> <span class="o">=</span> <span class="n">AvLeft3</span> <span class="o">+</span> <span class="n">AvLeft2</span>
    <span class="n">AvTops</span> <span class="o">=</span> <span class="n">AvTop3</span> <span class="o">+</span> <span class="n">AvTop2</span>

    <span class="k">for</span> <span class="n">u</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">AvLefts</span><span class="p">)):</span>
        <span class="k">if</span> <span class="n">math</span><span class="p">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">AvLefts</span><span class="p">[</span><span class="n">u</span><span class="p">]):</span>
            <span class="n">AvLefts</span><span class="p">[</span><span class="n">u</span><span class="p">]</span><span class="o">=</span><span class="mi">90</span>
        <span class="k">if</span> <span class="n">math</span><span class="p">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">AvTops</span><span class="p">[</span><span class="n">u</span><span class="p">]):</span>
            <span class="n">AvTops</span><span class="p">[</span><span class="n">u</span><span class="p">]</span><span class="o">=</span> <span class="mi">0</span>


    <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nb">round</span><span class="p">(</span><span class="n">AvLefts</span><span class="p">,</span><span class="n">decimals</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nb">round</span><span class="p">(</span><span class="n">AvTops</span><span class="p">,</span><span class="n">decimals</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">valz</span> <span class="o">=</span> <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">ExpectedValueRound</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span><span class="nb">str</span><span class="p">(</span><span class="n">ExpectedValueRound</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span><span class="nb">str</span><span class="p">(</span><span class="n">ExpectedValueRound</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">ExpectedValueRound</span><span class="p">[</span><span class="mi">3</span><span class="p">]),</span><span class="nb">str</span><span class="p">(</span><span class="n">ExpectedValueRound</span><span class="p">[</span><span class="mi">4</span><span class="p">]),</span><span class="nb">str</span><span class="p">(</span><span class="n">ExpectedValueRound</span><span class="p">[</span><span class="mi">5</span><span class="p">]),</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">ExpectedValueRound</span><span class="p">[</span><span class="mi">6</span><span class="p">]),</span><span class="nb">str</span><span class="p">(</span><span class="n">ExpectedValueRound</span><span class="p">[</span><span class="mi">7</span><span class="p">]),</span><span class="nb">str</span><span class="p">(</span><span class="n">ExpectedValueRound</span><span class="p">[</span><span class="mi">8</span><span class="p">]),</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">ExpectedValueRound</span><span class="p">[</span><span class="mi">9</span><span class="p">]),</span><span class="nb">str</span><span class="p">(</span><span class="n">ExpectedValueRound</span><span class="p">[</span><span class="mi">10</span><span class="p">])]</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s">'x'</span><span class="p">:</span> <span class="n">x</span><span class="p">,</span>
    <span class="s">'y'</span><span class="p">:</span> <span class="n">y</span><span class="p">,</span>
    <span class="s">'group'</span><span class="p">:</span> <span class="n">valz</span>
    <span class="p">})</span>

    <span class="n">p1</span><span class="o">=</span><span class="n">sns</span><span class="p">.</span><span class="n">regplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s">"x"</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s">"y"</span><span class="p">,</span> <span class="n">fit_reg</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s">"o"</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">"skyblue"</span><span class="p">,</span> <span class="n">scatter_kws</span><span class="o">=</span><span class="p">{</span><span class="s">'s'</span><span class="p">:</span><span class="mi">400</span><span class="p">})</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">df</span><span class="p">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
        <span class="n">p1</span><span class="p">.</span><span class="n">text</span><span class="p">(</span><span class="n">df</span><span class="p">.</span><span class="n">x</span><span class="p">[</span><span class="n">line</span><span class="p">]</span><span class="o">+</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">df</span><span class="p">.</span><span class="n">y</span><span class="p">[</span><span class="n">line</span><span class="p">],</span> <span class="n">df</span><span class="p">.</span><span class="n">group</span><span class="p">[</span><span class="n">line</span><span class="p">],</span> <span class="n">horizontalalignment</span><span class="o">=</span><span class="s">'left'</span><span class="p">,</span>
                <span class="n">size</span><span class="o">=</span><span class="s">'medium'</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">'black'</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s">'semibold'</span><span class="p">)</span>
    <span class="n">plt</span><span class="p">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">extent</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">100.0</span><span class="p">])</span>
    <span class="n">plt</span><span class="p">.</span><span class="n">grid</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>

    <span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---------------------------------------------------------------
Alec Burks
---------------------
---- 3 Pointers ----
Percentages
[0, 0.2222222222222222, 0.2857142857142857, 0.2631578947368421, 0.17647058823529413, 0.3333333333333333]
---------------------
Expected Values
[0, 0.6666666666666666, 0.8571428571428571, 0.7894736842105263, 0.5294117647058824, 1.0]
---- 2 Pointers ----
Percentages
[0.40540540540540543, 0, 0, 0.2, 0.47368421052631576, 0.38461538461538464]
---------------------
Expected Values
[0.8108108108108109, 0, 0, 0.4, 0.9473684210526315, 0.7692307692307693]
</code></pre></div></div>

<p><img src="output_77_1.png" alt="png" /></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---------------------------------------------------------------
Derrick Favors
---------------------
---- 3 Pointers ----
Percentages
[0, 0.38461538461538464, 0.2, 0.0, 0, 0.5]
---------------------
Expected Values
[0, 1.153846153846154, 0.6000000000000001, 0.0, 0, 1.5]
---- 2 Pointers ----
Percentages
[0.6329113924050633, 0.2857142857142857, 0.14285714285714285, 0.2857142857142857, 0.46153846153846156, 0.42857142857142855]
---------------------
Expected Values
[1.2658227848101267, 0.5714285714285714, 0.2857142857142857, 0.5714285714285714, 0.9230769230769231, 0.8571428571428571]
</code></pre></div></div>

<p><img src="output_77_3.png" alt="png" /></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---------------------------------------------------------------
Donovan Mitchell
---------------------
---- 3 Pointers ----
Percentages
[0, 0.3793103448275862, 0.47368421052631576, 0.2835820895522388, 0.3717948717948718, 0.3584905660377358]
---------------------
Expected Values
[0, 1.1379310344827585, 1.4210526315789473, 0.8507462686567164, 1.1153846153846154, 1.0754716981132075]
---- 2 Pointers ----
Percentages
[0.5144694533762058, 0.5, 0.5, 0.3888888888888889, 0.36585365853658536, 0.4444444444444444]
---------------------
Expected Values
[1.0289389067524115, 1.0, 1.0, 0.7777777777777778, 0.7317073170731707, 0.8888888888888888]
</code></pre></div></div>

<p><img src="output_77_5.png" alt="png" /></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---------------------------------------------------------------
Ekpe Udoh
---------------------
---- 3 Pointers ----
Percentages
[0, 0, 0, 0, 0, 0]
---------------------
Expected Values
[0, 0, 0, 0, 0, 0]
---- 2 Pointers ----
Percentages
[0.515625, 0, 0, 0, 0, 0]
---------------------
Expected Values
[1.03125, 0, 0, 0, 0, 0]
</code></pre></div></div>

<p><img src="output_77_7.png" alt="png" /></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---------------------------------------------------------------
Jae Crowder
---------------------
---- 3 Pointers ----
Percentages
[0, 0.8, 0.42857142857142855, 0.3, 0.23076923076923078, 0.2222222222222222]
---------------------
Expected Values
[0, 2.4000000000000004, 1.2857142857142856, 0.8999999999999999, 0.6923076923076923, 0.6666666666666666]
---- 2 Pointers ----
Percentages
[0.6129032258064516, 0.5, 0.4, 0.3333333333333333, 0.16666666666666666, 0.25]
---------------------
Expected Values
[1.2258064516129032, 1.0, 0.8, 0.6666666666666666, 0.3333333333333333, 0.5]
</code></pre></div></div>

<p><img src="output_77_9.png" alt="png" /></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---------------------------------------------------------------
Joe Ingles
---------------------
---- 3 Pointers ----
Percentages
[0, 0.425531914893617, 0.5135135135135135, 0.5098039215686274, 0.3902439024390244, 0.5333333333333333]
---------------------
Expected Values
[0, 1.2765957446808511, 1.5405405405405403, 1.5294117647058822, 1.1707317073170733, 1.6]
---- 2 Pointers ----
Percentages
[0.5670103092783505, 0.6, 0, 0.38461538461538464, 0.3333333333333333, 0.5]
---------------------
Expected Values
[1.134020618556701, 1.2, 0, 0.7692307692307693, 0.6666666666666666, 1.0]
</code></pre></div></div>

<p><img src="output_77_11.png" alt="png" /></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---------------------------------------------------------------
Joe Johnson
---------------------
---- 3 Pointers ----
Percentages
[0, 0.2, 0.15789473684210525, 0.0, 0.4444444444444444, 0.0]
---------------------
Expected Values
[0, 0.6000000000000001, 0.47368421052631576, 0.0, 1.3333333333333333, 0.0]
---- 2 Pointers ----
Percentages
[0.48936170212765956, 0.5555555555555556, 0, 0.4, 0.375, 0.5]
---------------------
Expected Values
[0.9787234042553191, 1.1111111111111112, 0, 0.8, 0.75, 1.0]
</code></pre></div></div>

<p><img src="output_77_13.png" alt="png" /></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---------------------------------------------------------------
Jonas Jerebko
---------------------
---- 3 Pointers ----
Percentages
[0, 0.35294117647058826, 0.42857142857142855, 0.4, 0.25, 0.375]
---------------------
Expected Values
[0, 1.0588235294117647, 1.2857142857142856, 1.2000000000000002, 0.75, 1.125]
---- 2 Pointers ----
Percentages
[0.5487804878048781, 0.3333333333333333, 0.5, 0.0, 0, 0.25]
---------------------
Expected Values
[1.0975609756097562, 0.6666666666666666, 1.0, 0.0, 0, 0.5]
</code></pre></div></div>

<p><img src="output_77_15.png" alt="png" /></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---------------------------------------------------------------
Raul Neto
---------------------
---- 3 Pointers ----
Percentages
[0, 0.3333333333333333, 0.42857142857142855, 0.375, 0.5, 0.0]
---------------------
Expected Values
[0, 1.0, 1.2857142857142856, 1.125, 1.5, 0.0]
---- 2 Pointers ----
Percentages
[0.5192307692307693, 0.0, 0, 0.6666666666666666, 0.25, 0]
---------------------
Expected Values
[1.0384615384615385, 0.0, 0, 1.3333333333333333, 0.5, 0]
</code></pre></div></div>

<p><img src="output_77_17.png" alt="png" /></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---------------------------------------------------------------
Ricky Rubio
---------------------
---- 3 Pointers ----
Percentages
[0, 0.23529411764705882, 0.45454545454545453, 0.4523809523809524, 0.5882352941176471, 0.25]
---------------------
Expected Values
[0, 0.7058823529411764, 1.3636363636363635, 1.3571428571428572, 1.7647058823529411, 0.75]
---- 2 Pointers ----
Percentages
[0.49295774647887325, 0.5, 0.25, 0.43209876543209874, 0.3125, 0.4782608695652174]
---------------------
Expected Values
[0.9859154929577465, 1.0, 0.5, 0.8641975308641975, 0.625, 0.9565217391304348]
</code></pre></div></div>

<p><img src="output_77_19.png" alt="png" /></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---------------------------------------------------------------
Rodney Hood
---------------------
---- 3 Pointers ----
Percentages
[0, 0.35714285714285715, 0.1875, 0.4642857142857143, 0.32, 0.5161290322580645]
---------------------
Expected Values
[0, 1.0714285714285714, 0.5625, 1.3928571428571428, 0.96, 1.5483870967741935]
---- 2 Pointers ----
Percentages
[0.5581395348837209, 0.5, 0.3333333333333333, 0.5454545454545454, 0.3076923076923077, 0.5714285714285714]
---------------------
Expected Values
[1.1162790697674418, 1.0, 0.6666666666666666, 1.0909090909090908, 0.6153846153846154, 1.1428571428571428]
</code></pre></div></div>

<p><img src="output_77_21.png" alt="png" /></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---------------------------------------------------------------
Royce O
---------------------
---- 3 Pointers ----
Percentages
[0, 0.45, 0.375, 0.16666666666666666, 0.13333333333333333, 0.42857142857142855]
---------------------
Expected Values
[0, 1.35, 1.125, 0.5, 0.4, 1.2857142857142856]
---- 2 Pointers ----
Percentages
[0.5131578947368421, 0, 0.0, 0.5714285714285714, 0.3333333333333333, 0]
---------------------
Expected Values
[1.0263157894736843, 0, 0.0, 1.1428571428571428, 0.6666666666666666, 0]
</code></pre></div></div>

<p><img src="output_77_23.png" alt="png" /></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---------------------------------------------------------------
Rudy Gobert
---------------------
---- 3 Pointers ----
Percentages
[0, 0, 0, 0, 0, 0]
---------------------
Expected Values
[0, 0, 0, 0, 0, 0]
---- 2 Pointers ----
Percentages
[0.5555555555555556, 0, 0, 0.0, 0, 0.5]
---------------------
Expected Values
[1.1111111111111112, 0, 0, 0.0, 0, 1.0]
</code></pre></div></div>

<p><img src="output_77_25.png" alt="png" /></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---------------------------------------------------------------
Thabo Sefolosha
---------------------
---- 3 Pointers ----
Percentages
[0, 0.45454545454545453, 0.5, 0.6, 0.0, 1.0]
---------------------
Expected Values
[0, 1.3636363636363635, 1.5, 1.7999999999999998, 0.0, 3.0]
---- 2 Pointers ----
Percentages
[0.6226415094339622, 0.5, 0.75, 0.38461538461538464, 0.0, 0.0]
---------------------
Expected Values
[1.2452830188679245, 1.0, 1.5, 0.7692307692307693, 0.0, 0.0]
</code></pre></div></div>

<p><img src="output_77_27.png" alt="png" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">## Away
</span>
<span class="c1"># 3 pointers
</span><span class="n">PlayerIDs</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">unique</span><span class="p">(</span><span class="n">ShotsPD</span><span class="p">[</span><span class="s">'shooter'</span><span class="p">])</span>
<span class="n">PlayerNames</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">unique</span><span class="p">(</span><span class="n">ShotsPD</span><span class="p">[</span><span class="s">'shooter_name'</span><span class="p">])</span>
<span class="n">NumOPlayers</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">PlayerNames</span><span class="p">)</span>
<span class="k">for</span> <span class="n">Name</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">NumOPlayers</span><span class="p">):</span>
    <span class="n">PercMadeDif3</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">NumShots</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">NumMade</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">ExpectedValue3</span> <span class="o">=</span><span class="p">[]</span>
    <span class="n">AvLeft3</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">AvTop3</span> <span class="o">=</span><span class="p">[]</span>
    <span class="n">PtVal3</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">PtVal2</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">PercMadeDif2</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">NumShots3</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">NumShots2</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">NumMade3</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">NumMade2</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">ExpectedValue2</span> <span class="o">=</span><span class="p">[]</span>
    <span class="n">ExpectedValueRound</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="n">AvLeft2</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">AvTop2</span> <span class="o">=</span><span class="p">[]</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">6</span><span class="p">):</span>
        <span class="n">Location</span> <span class="o">=</span> <span class="n">ShotsPD</span><span class="p">[(</span><span class="n">ShotsPD</span><span class="p">[</span><span class="s">'LocationCluster'</span><span class="p">]</span><span class="o">==</span><span class="n">i</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">ShotsPD</span><span class="p">[</span><span class="s">'ThreePt'</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">)</span>
                           <span class="o">&amp;</span> <span class="p">(</span> <span class="n">ShotsPD</span><span class="p">[</span><span class="s">'shooter_name'</span><span class="p">]</span> <span class="o">==</span> <span class="n">PlayerNames</span><span class="p">[</span><span class="n">Name</span><span class="p">])</span><span class="o">&amp;</span> <span class="p">(</span> <span class="n">ShotsPD</span><span class="p">[</span><span class="s">'home/away'</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">]</span>     
        <span class="n">NumShots3</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Location</span><span class="p">[</span><span class="s">'made/missed'</span><span class="p">]))</span>
        <span class="n">NumMade3</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Location</span><span class="p">[</span><span class="n">Location</span><span class="p">[</span><span class="s">'made/missed'</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">]))</span>
        <span class="n">PercMade3</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="n">NumShots3</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">PercMade3</span> <span class="o">=</span> <span class="n">NumMade3</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">/</span> <span class="n">NumShots3</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">PercMadeDif3</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">PercMade3</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">PercMadeDif3</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

        <span class="n">ExpectedValue3</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">PercMadeDif3</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">PtVal3</span><span class="p">)</span>

        <span class="n">AvLeft3</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="n">mean</span><span class="p">(</span><span class="n">Location</span><span class="p">[</span><span class="s">'left'</span><span class="p">]))</span>
        <span class="n">AvTop3</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="n">mean</span><span class="p">(</span><span class="n">Location</span><span class="p">[</span><span class="s">'top'</span><span class="p">]))</span>





        <span class="n">Location</span> <span class="o">=</span> <span class="n">ShotsPD</span><span class="p">[(</span><span class="n">ShotsPD</span><span class="p">[</span><span class="s">'LocationCluster'</span><span class="p">]</span><span class="o">==</span><span class="n">i</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">ShotsPD</span><span class="p">[</span><span class="s">'ThreePt'</span><span class="p">]</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span>
                           <span class="o">&amp;</span> <span class="p">(</span> <span class="n">ShotsPD</span><span class="p">[</span><span class="s">'shooter_name'</span><span class="p">]</span> <span class="o">==</span> <span class="n">PlayerNames</span><span class="p">[</span><span class="n">Name</span><span class="p">])</span> <span class="o">&amp;</span> <span class="p">(</span> <span class="n">ShotsPD</span><span class="p">[</span><span class="s">'home/away'</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">]</span>
        <span class="n">NumShots2</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Location</span><span class="p">[</span><span class="s">'made/missed'</span><span class="p">]))</span>
        <span class="n">NumMade2</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Location</span><span class="p">[</span><span class="n">Location</span><span class="p">[</span><span class="s">'made/missed'</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">]))</span>
        <span class="n">PercMade2</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="n">NumShots2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">PercMade2</span> <span class="o">=</span> <span class="n">NumMade2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">/</span> <span class="n">NumShots2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                <span class="n">PercMadeDif2</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">PercMade2</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
                <span class="n">PercMadeDif2</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">ExpectedValue2</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">PercMadeDif2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">PtVal2</span><span class="p">)</span>

        <span class="n">AvLeft2</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="n">mean</span><span class="p">(</span><span class="n">Location</span><span class="p">[</span><span class="s">'left'</span><span class="p">]))</span>
        <span class="n">AvTop2</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="n">mean</span><span class="p">(</span><span class="n">Location</span><span class="p">[</span><span class="s">'top'</span><span class="p">]))</span>

    <span class="k">print</span><span class="p">(</span><span class="s">'---------------------------------------------------------------'</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">PlayerNames</span><span class="p">[</span><span class="n">Name</span><span class="p">])</span>
    <span class="k">print</span><span class="p">(</span><span class="s">'---------------------'</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">'---- 3 Pointers ----'</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">'Percentages'</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">PercMadeDif3</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">'---------------------'</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">'Expected Values'</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">ExpectedValue3</span><span class="p">)</span>



    <span class="k">print</span><span class="p">(</span><span class="s">'---- 2 Pointers ----'</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">'Percentages'</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">PercMadeDif2</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">'---------------------'</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">'Expected Values'</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">ExpectedValue2</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">mm</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">ExpectedValue3</span><span class="p">)):</span>
        <span class="k">if</span> <span class="n">ExpectedValue3</span><span class="p">[</span><span class="n">mm</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">Extra</span> <span class="o">=</span> <span class="n">mm</span>
    <span class="k">del</span> <span class="n">ExpectedValue3</span><span class="p">[</span><span class="n">Extra</span><span class="p">]</span>

    <span class="n">xx</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">AvLeft3</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">mm</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">AvLeft3</span><span class="p">)):</span>
        <span class="k">if</span>  <span class="n">xx</span><span class="p">[</span><span class="n">mm</span><span class="p">]</span> <span class="o">==</span> <span class="bp">True</span><span class="p">:</span>
            <span class="n">DeleteVar</span> <span class="o">=</span> <span class="n">mm</span>

    <span class="k">del</span> <span class="n">AvLeft3</span><span class="p">[</span><span class="n">DeleteVar</span><span class="p">]</span>
    <span class="k">del</span> <span class="n">AvTop3</span><span class="p">[</span><span class="n">DeleteVar</span><span class="p">]</span>

    <span class="n">ExpectedValue</span> <span class="o">=</span> <span class="n">ExpectedValue3</span> <span class="o">+</span> <span class="n">ExpectedValue2</span>
    <span class="n">ExpectedValueRound</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">round_</span><span class="p">(</span><span class="n">ExpectedValue</span><span class="p">,</span> <span class="n">decimals</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

    <span class="n">AvLefts</span> <span class="o">=</span> <span class="n">AvLeft3</span> <span class="o">+</span> <span class="n">AvLeft2</span>
    <span class="n">AvTops</span> <span class="o">=</span> <span class="n">AvTop3</span> <span class="o">+</span> <span class="n">AvTop2</span>

    <span class="k">for</span> <span class="n">u</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">AvLefts</span><span class="p">)):</span>
        <span class="k">if</span> <span class="n">math</span><span class="p">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">AvLefts</span><span class="p">[</span><span class="n">u</span><span class="p">]):</span>
            <span class="n">AvLefts</span><span class="p">[</span><span class="n">u</span><span class="p">]</span><span class="o">=</span><span class="mi">90</span>
        <span class="k">if</span> <span class="n">math</span><span class="p">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">AvTops</span><span class="p">[</span><span class="n">u</span><span class="p">]):</span>
            <span class="n">AvTops</span><span class="p">[</span><span class="n">u</span><span class="p">]</span><span class="o">=</span> <span class="mi">0</span>


    <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nb">round</span><span class="p">(</span><span class="n">AvLefts</span><span class="p">,</span><span class="n">decimals</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nb">round</span><span class="p">(</span><span class="n">AvTops</span><span class="p">,</span><span class="n">decimals</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">valz</span> <span class="o">=</span> <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">ExpectedValueRound</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span><span class="nb">str</span><span class="p">(</span><span class="n">ExpectedValueRound</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span><span class="nb">str</span><span class="p">(</span><span class="n">ExpectedValueRound</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">ExpectedValueRound</span><span class="p">[</span><span class="mi">3</span><span class="p">]),</span><span class="nb">str</span><span class="p">(</span><span class="n">ExpectedValueRound</span><span class="p">[</span><span class="mi">4</span><span class="p">]),</span><span class="nb">str</span><span class="p">(</span><span class="n">ExpectedValueRound</span><span class="p">[</span><span class="mi">5</span><span class="p">]),</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">ExpectedValueRound</span><span class="p">[</span><span class="mi">6</span><span class="p">]),</span><span class="nb">str</span><span class="p">(</span><span class="n">ExpectedValueRound</span><span class="p">[</span><span class="mi">7</span><span class="p">]),</span><span class="nb">str</span><span class="p">(</span><span class="n">ExpectedValueRound</span><span class="p">[</span><span class="mi">8</span><span class="p">]),</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">ExpectedValueRound</span><span class="p">[</span><span class="mi">9</span><span class="p">]),</span><span class="nb">str</span><span class="p">(</span><span class="n">ExpectedValueRound</span><span class="p">[</span><span class="mi">10</span><span class="p">])]</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s">'x'</span><span class="p">:</span> <span class="n">x</span><span class="p">,</span>
    <span class="s">'y'</span><span class="p">:</span> <span class="n">y</span><span class="p">,</span>
    <span class="s">'group'</span><span class="p">:</span> <span class="n">valz</span>
    <span class="p">})</span>

    <span class="n">p1</span><span class="o">=</span><span class="n">sns</span><span class="p">.</span><span class="n">regplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s">"x"</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s">"y"</span><span class="p">,</span> <span class="n">fit_reg</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s">"o"</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">"skyblue"</span><span class="p">,</span> <span class="n">scatter_kws</span><span class="o">=</span><span class="p">{</span><span class="s">'s'</span><span class="p">:</span><span class="mi">400</span><span class="p">})</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">df</span><span class="p">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
        <span class="n">p1</span><span class="p">.</span><span class="n">text</span><span class="p">(</span><span class="n">df</span><span class="p">.</span><span class="n">x</span><span class="p">[</span><span class="n">line</span><span class="p">]</span><span class="o">+</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">df</span><span class="p">.</span><span class="n">y</span><span class="p">[</span><span class="n">line</span><span class="p">],</span> <span class="n">df</span><span class="p">.</span><span class="n">group</span><span class="p">[</span><span class="n">line</span><span class="p">],</span> <span class="n">horizontalalignment</span><span class="o">=</span><span class="s">'left'</span><span class="p">,</span>
                <span class="n">size</span><span class="o">=</span><span class="s">'medium'</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">'black'</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s">'semibold'</span><span class="p">)</span>

    <span class="n">plt</span><span class="p">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">extent</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">100.0</span><span class="p">])</span>
    <span class="n">plt</span><span class="p">.</span><span class="n">grid</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>

    <span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---------------------------------------------------------------
Alec Burks
---------------------
---- 3 Pointers ----
Percentages
[0, 0.5555555555555556, 0.5, 0.5, 0.3076923076923077, 0.2857142857142857]
---------------------
Expected Values
[0, 1.6666666666666667, 1.5, 1.5, 0.9230769230769231, 0.8571428571428571]
---- 2 Pointers ----
Percentages
[0.5875, 0, 0, 0.5625, 0.2857142857142857, 0.3333333333333333]
---------------------
Expected Values
[1.175, 0, 0, 1.125, 0.5714285714285714, 0.6666666666666666]
</code></pre></div></div>

<p><img src="output_78_1.png" alt="png" /></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---------------------------------------------------------------
Derrick Favors
---------------------
---- 3 Pointers ----
Percentages
[0, 0.17647058823529413, 0.18181818181818182, 0, 0, 0]
---------------------
Expected Values
[0, 0.5294117647058824, 0.5454545454545454, 0, 0, 0]
---- 2 Pointers ----
Percentages
[0.7024793388429752, 0.375, 1.0, 0.2, 0.3125, 0.46511627906976744]
---------------------
Expected Values
[1.4049586776859504, 0.75, 2.0, 0.4, 0.625, 0.9302325581395349]
</code></pre></div></div>

<p><img src="output_78_3.png" alt="png" /></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---------------------------------------------------------------
Donovan Mitchell
---------------------
---- 3 Pointers ----
Percentages
[0, 0.358974358974359, 0.6153846153846154, 0.2619047619047619, 0.27941176470588236, 0.30612244897959184]
---------------------
Expected Values
[0, 1.0769230769230769, 1.8461538461538463, 0.7857142857142858, 0.8382352941176471, 0.9183673469387755]
---- 2 Pointers ----
Percentages
[0.5590277777777778, 0.75, 0.3333333333333333, 0.5121951219512195, 0.28888888888888886, 0.37209302325581395]
---------------------
Expected Values
[1.1180555555555556, 1.5, 0.6666666666666666, 1.024390243902439, 0.5777777777777777, 0.7441860465116279]
</code></pre></div></div>

<p><img src="output_78_5.png" alt="png" /></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---------------------------------------------------------------
Ekpe Udoh
---------------------
---- 3 Pointers ----
Percentages
[0, 0, 0, 0, 0, 0]
---------------------
Expected Values
[0, 0, 0, 0, 0, 0]
---- 2 Pointers ----
Percentages
[0.5625, 0, 0, 0, 0.0, 0]
---------------------
Expected Values
[1.125, 0, 0, 0, 0.0, 0]
</code></pre></div></div>

<p><img src="output_78_7.png" alt="png" /></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---------------------------------------------------------------
Jae Crowder
---------------------
---- 3 Pointers ----
Percentages
[0, 0.42857142857142855, 0.058823529411764705, 0.23529411764705882, 0.2727272727272727, 0.4444444444444444]
---------------------
Expected Values
[0, 1.2857142857142856, 0.1764705882352941, 0.7058823529411764, 0.8181818181818181, 1.3333333333333333]
---- 2 Pointers ----
Percentages
[0.5344827586206896, 0.5, 0.0, 0.2857142857142857, 0.2222222222222222, 0.4444444444444444]
---------------------
Expected Values
[1.0689655172413792, 1.0, 0.0, 0.5714285714285714, 0.4444444444444444, 0.8888888888888888]
</code></pre></div></div>

<p><img src="output_78_9.png" alt="png" /></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---------------------------------------------------------------
Joe Ingles
---------------------
---- 3 Pointers ----
Percentages
[0, 0.4838709677419355, 0.4888888888888889, 0.3541666666666667, 0.34615384615384615, 0.38461538461538464]
---------------------
Expected Values
[0, 1.4516129032258065, 1.4666666666666666, 1.0625, 1.0384615384615383, 1.153846153846154]
---- 2 Pointers ----
Percentages
[0.5576923076923077, 0.4, 0.0, 0.3, 0.2727272727272727, 0.42857142857142855]
---------------------
Expected Values
[1.1153846153846154, 0.8, 0.0, 0.6, 0.5454545454545454, 0.8571428571428571]
</code></pre></div></div>

<p><img src="output_78_11.png" alt="png" /></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---------------------------------------------------------------
Joe Johnson
---------------------
---- 3 Pointers ----
Percentages
[0, 0.45454545454545453, 0.5, 0.2222222222222222, 0.2, 0.6666666666666666]
---------------------
Expected Values
[0, 1.3636363636363635, 1.5, 0.6666666666666666, 0.6000000000000001, 2.0]
---- 2 Pointers ----
Percentages
[0.6785714285714286, 0.5, 0.0, 0.4, 0.5714285714285714, 0.6666666666666666]
---------------------
Expected Values
[1.3571428571428572, 1.0, 0.0, 0.8, 1.1428571428571428, 1.3333333333333333]
</code></pre></div></div>

<p><img src="output_78_13.png" alt="png" /></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---------------------------------------------------------------
Jonas Jerebko
---------------------
---- 3 Pointers ----
Percentages
[0, 0.5769230769230769, 0.5217391304347826, 0.3125, 0.4166666666666667, 0.16666666666666666]
---------------------
Expected Values
[0, 1.7307692307692306, 1.5652173913043477, 0.9375, 1.25, 0.5]
---- 2 Pointers ----
Percentages
[0.5352112676056338, 0.0, 0.0, 0.3333333333333333, 1.0, 0]
---------------------
Expected Values
[1.0704225352112675, 0.0, 0.0, 0.6666666666666666, 2.0, 0]
</code></pre></div></div>

<p><img src="output_78_15.png" alt="png" /></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---------------------------------------------------------------
Raul Neto
---------------------
---- 3 Pointers ----
Percentages
[0, 0.6666666666666666, 0.5, 0, 0.3333333333333333, 0.3333333333333333]
---------------------
Expected Values
[0, 2.0, 1.5, 0, 1.0, 1.0]
---- 2 Pointers ----
Percentages
[0.5294117647058824, 0.5, 0, 0.0, 0.0, 0]
---------------------
Expected Values
[1.0588235294117647, 1.0, 0, 0.0, 0.0, 0]
</code></pre></div></div>

<p><img src="output_78_17.png" alt="png" /></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---------------------------------------------------------------
Ricky Rubio
---------------------
---- 3 Pointers ----
Percentages
[0, 0.2692307692307692, 0.3548387096774194, 0.3333333333333333, 0.2777777777777778, 0.21739130434782608]
---------------------
Expected Values
[0, 0.8076923076923077, 1.064516129032258, 1.0, 0.8333333333333334, 0.6521739130434783]
---- 2 Pointers ----
Percentages
[0.44660194174757284, 0.42857142857142855, 0.75, 0.36666666666666664, 0.5333333333333333, 0.47619047619047616]
---------------------
Expected Values
[0.8932038834951457, 0.8571428571428571, 1.5, 0.7333333333333333, 1.0666666666666667, 0.9523809523809523]
</code></pre></div></div>

<p><img src="output_78_19.png" alt="png" /></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---------------------------------------------------------------
Rodney Hood
---------------------
---- 3 Pointers ----
Percentages
[0, 0.46153846153846156, 0.35714285714285715, 0.40540540540540543, 0.2, 0.32142857142857145]
---------------------
Expected Values
[0, 1.3846153846153846, 1.0714285714285714, 1.2162162162162162, 0.6000000000000001, 0.9642857142857144]
---- 2 Pointers ----
Percentages
[0.46, 0.25, 1.0, 0.4444444444444444, 0.21739130434782608, 0.37037037037037035]
---------------------
Expected Values
[0.92, 0.5, 2.0, 0.8888888888888888, 0.43478260869565216, 0.7407407407407407]
</code></pre></div></div>

<p><img src="output_78_21.png" alt="png" /></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---------------------------------------------------------------
Royce O
---------------------
---- 3 Pointers ----
Percentages
[0, 0.2, 0.36363636363636365, 0.6666666666666666, 0.25, 0.3333333333333333]
---------------------
Expected Values
[0, 0.6000000000000001, 1.0909090909090908, 2.0, 0.75, 1.0]
---- 2 Pointers ----
Percentages
[0.42028985507246375, 0, 0, 0.6, 0.6, 0.5]
---------------------
Expected Values
[0.8405797101449275, 0, 0, 1.2, 1.2, 1.0]
</code></pre></div></div>

<p><img src="output_78_23.png" alt="png" /></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---------------------------------------------------------------
Rudy Gobert
---------------------
---- 3 Pointers ----
Percentages
[0, 0, 0, 0, 0, 0]
---------------------
Expected Values
[0, 0, 0, 0, 0, 0]
---- 2 Pointers ----
Percentages
[0.706140350877193, 0, 0, 0.5, 0, 0.25]
---------------------
Expected Values
[1.412280701754386, 0, 0, 1.0, 0, 0.5]
</code></pre></div></div>

<p><img src="output_78_25.png" alt="png" /></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---------------------------------------------------------------
Thabo Sefolosha
---------------------
---- 3 Pointers ----
Percentages
[0, 0.4444444444444444, 0.35714285714285715, 0.2222222222222222, 0.2727272727272727, 0.0]
---------------------
Expected Values
[0, 1.3333333333333333, 1.0714285714285714, 0.6666666666666666, 0.8181818181818181, 0.0]
---- 2 Pointers ----
Percentages
[0.6031746031746031, 0.0, 0.5, 0.3333333333333333, 0.25, 0.6666666666666666]
---------------------
Expected Values
[1.2063492063492063, 0.0, 1.0, 0.6666666666666666, 0.5, 1.3333333333333333]
</code></pre></div></div>

<p><img src="output_78_27.png" alt="png" /></p>

<p>** Conclusions**</p>

<p>From this, we can see that some players shoot different shots at much different expected valeus based on whether they are home or away. This could come from that players maybe have more nerves at away games and shoot worse altogher, or maybe they are more comfortable with certain courts and stadiums. In the comparison below, we can see that Ricky Rubio is a much better 3-point shooter at home. But interestingly enough, he shoots that baseline jumper 3x better away than at home. It is intersting to think players can shoot better or worse just depending on whether it is a home or an away game</p>

<p><img src="RickyComparison.jpeg" alt="Ricky Rubio" /></p>

<h3 id="score-prediction">Score Prediction</h3>

<p>Finally, we were able to look at predicting a game based on the knowledge of the shot attempts to guess the team score and individual scores. We actually did quite well by looking at the boxscore listed below. This was the first game of the season. We over predicted Donavan Mitchel’s score, probbly as this was his first game in the NBA, and he may have shot worse due to nerves and getting used to the flow. Alec Burks was playing better at the time,  so he actually did better than we predicted. We were able to decently predict a score based upon the expected values we found. However, our methods don’t take into account free throws, so our final scores will be a little off depending on free throws.</p>

<p>We were able to be within 7 points for each player. The model predicted Joe Johnson’s score perfectly while we were 7 off of Alec Burks actual total. We were 8 short of the team total.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">GameOfInterest</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">GameX</span> <span class="o">=</span> <span class="n">ShotsPD</span><span class="p">[</span><span class="n">ShotsPD</span><span class="p">[</span><span class="s">'game'</span><span class="p">]</span> <span class="o">==</span> <span class="n">GameOfInterest</span><span class="p">]</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Predicting a game
# 3 pointers
</span><span class="n">PlayerIDs</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">unique</span><span class="p">(</span><span class="n">GameX</span><span class="p">[</span><span class="s">'shooter'</span><span class="p">])</span>
<span class="n">PlayerNames</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">unique</span><span class="p">(</span><span class="n">GameX</span><span class="p">[</span><span class="s">'shooter_name'</span><span class="p">])</span>
<span class="n">NumOPlayers</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">PlayerNames</span><span class="p">)</span>
<span class="n">TotalPts</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">PlayerToalPts</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">PlayerToalPtsActual</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">TotalPtsActual</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">TotalTotalPts</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">Name</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">NumOPlayers</span><span class="p">):</span>
    <span class="n">PercMadeDif3</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">NumShots</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">NumMade</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">ExpectedValue3</span> <span class="o">=</span><span class="p">[]</span>
    <span class="n">PtVal3</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">PtVal2</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">PercMadeDif2</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">NumShots3</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">NumShots2</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">NumMade3</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">NumMade2</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">ExpectedValue2</span> <span class="o">=</span><span class="p">[]</span>
    <span class="n">ExpectedValueRound</span> <span class="o">=</span> <span class="p">[]</span>



    <span class="n">NumShotsRecreate3</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">NumShotsRecreate2</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">LocationRecreate2</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">LocationRecreate3</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">ExpectedPoints3Recreate</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">ExpectedPoints2Recreate</span><span class="o">=</span> <span class="p">[]</span>
    <span class="n">PlayerToalPts</span> <span class="o">=</span> <span class="p">[]</span>


    <span class="n">NumShotsRecreate3Actual</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">NumShotsRecreate2Actual</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">LocationRecreate2Actual</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">LocationRecreate3Actual</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">ExpectedPoints3RecreateActual</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">ExpectedPoints2RecreateActual</span><span class="o">=</span> <span class="p">[]</span>
    <span class="n">PlayerToalPts</span> <span class="o">=</span> <span class="p">[]</span>


    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">6</span><span class="p">):</span>
        <span class="n">Location</span> <span class="o">=</span> <span class="n">ShotsPD</span><span class="p">[(</span><span class="n">ShotsPD</span><span class="p">[</span><span class="s">'LocationCluster'</span><span class="p">]</span><span class="o">==</span><span class="n">i</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">ShotsPD</span><span class="p">[</span><span class="s">'ThreePt'</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">)</span>
                           <span class="o">&amp;</span> <span class="p">(</span> <span class="n">ShotsPD</span><span class="p">[</span><span class="s">'shooter_name'</span><span class="p">]</span> <span class="o">==</span> <span class="n">PlayerNames</span><span class="p">[</span><span class="n">Name</span><span class="p">])]</span>     
        <span class="n">NumShots3</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Location</span><span class="p">[</span><span class="s">'made/missed'</span><span class="p">]))</span>
        <span class="n">NumMade3</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Location</span><span class="p">[</span><span class="n">Location</span><span class="p">[</span><span class="s">'made/missed'</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">]))</span>
        <span class="n">PercMade3</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="n">NumShots3</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">PercMade3</span> <span class="o">=</span> <span class="n">NumMade3</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">/</span> <span class="n">NumShots3</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">PercMadeDif3</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">PercMade3</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">PercMadeDif3</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

        <span class="n">ExpectedValue3</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">PercMadeDif3</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">PtVal3</span><span class="p">)</span>

        <span class="n">AvLeft3</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="n">mean</span><span class="p">(</span><span class="n">Location</span><span class="p">[</span><span class="s">'left'</span><span class="p">]))</span>
        <span class="n">AvTop3</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="n">mean</span><span class="p">(</span><span class="n">Location</span><span class="p">[</span><span class="s">'top'</span><span class="p">]))</span>





        <span class="n">Location</span> <span class="o">=</span> <span class="n">ShotsPD</span><span class="p">[(</span><span class="n">ShotsPD</span><span class="p">[</span><span class="s">'LocationCluster'</span><span class="p">]</span><span class="o">==</span><span class="n">i</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">ShotsPD</span><span class="p">[</span><span class="s">'ThreePt'</span><span class="p">]</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span>
                           <span class="o">&amp;</span> <span class="p">(</span> <span class="n">ShotsPD</span><span class="p">[</span><span class="s">'shooter_name'</span><span class="p">]</span> <span class="o">==</span> <span class="n">PlayerNames</span><span class="p">[</span><span class="n">Name</span><span class="p">])]</span>
        <span class="n">NumShots2</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Location</span><span class="p">[</span><span class="s">'made/missed'</span><span class="p">]))</span>
        <span class="n">NumMade2</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Location</span><span class="p">[</span><span class="n">Location</span><span class="p">[</span><span class="s">'made/missed'</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">]))</span>
        <span class="n">PercMade2</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="n">NumShots2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">PercMade2</span> <span class="o">=</span> <span class="n">NumMade2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">/</span> <span class="n">NumShots2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                <span class="n">PercMadeDif2</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">PercMade2</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
                <span class="n">PercMadeDif2</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">ExpectedValue2</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">PercMadeDif2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">PtVal2</span><span class="p">)</span>

        <span class="n">AvLeft2</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="n">mean</span><span class="p">(</span><span class="n">Location</span><span class="p">[</span><span class="s">'left'</span><span class="p">]))</span>
        <span class="n">AvTop2</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="n">mean</span><span class="p">(</span><span class="n">Location</span><span class="p">[</span><span class="s">'top'</span><span class="p">]))</span>














    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">6</span><span class="p">):</span>
        <span class="n">LocationRecreate3</span> <span class="o">=</span> <span class="n">GameX</span><span class="p">[(</span><span class="n">GameX</span><span class="p">[</span><span class="s">'LocationCluster'</span><span class="p">]</span><span class="o">==</span><span class="n">i</span><span class="p">)</span><span class="o">&amp;</span> <span class="p">(</span><span class="n">GameX</span><span class="p">[</span><span class="s">'ThreePt'</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">)</span>
                                  <span class="o">&amp;</span> <span class="p">(</span> <span class="n">GameX</span><span class="p">[</span><span class="s">'shooter_name'</span><span class="p">]</span> <span class="o">==</span> <span class="n">PlayerNames</span><span class="p">[</span><span class="n">Name</span><span class="p">])]</span>
        <span class="n">NumShotsRecreate3</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">LocationRecreate3</span><span class="p">[</span><span class="s">'made/missed'</span><span class="p">]))</span>
        <span class="n">ExpectedPoints3Recreate</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">NumShotsRecreate3</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">ExpectedValue3</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">6</span><span class="p">):</span>
        <span class="n">LocationRecreate2</span> <span class="o">=</span> <span class="n">GameX</span><span class="p">[(</span><span class="n">GameX</span><span class="p">[</span><span class="s">'LocationCluster'</span><span class="p">]</span><span class="o">==</span><span class="n">i</span><span class="p">)</span><span class="o">&amp;</span> <span class="p">(</span><span class="n">GameX</span><span class="p">[</span><span class="s">'ThreePt'</span><span class="p">]</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span>
                                  <span class="o">&amp;</span> <span class="p">(</span> <span class="n">GameX</span><span class="p">[</span><span class="s">'shooter_name'</span><span class="p">]</span> <span class="o">==</span> <span class="n">PlayerNames</span><span class="p">[</span><span class="n">Name</span><span class="p">])]</span>
        <span class="n">NumShotsRecreate2</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">LocationRecreate2</span><span class="p">[</span><span class="s">'made/missed'</span><span class="p">]))</span>
        <span class="n">ExpectedPoints2Recreate</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">NumShotsRecreate2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">ExpectedValue2</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>


    <span class="n">Player3pts</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nb">sum</span><span class="p">(</span><span class="n">ExpectedPoints3Recreate</span><span class="p">)</span>
    <span class="n">Player2pts</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nb">sum</span><span class="p">(</span><span class="n">ExpectedPoints2Recreate</span><span class="p">)</span>

    <span class="n">PlayerToalPts</span> <span class="o">=</span> <span class="n">Player3pts</span> <span class="o">+</span> <span class="n">Player2pts</span>

    <span class="n">TotalPts</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">PlayerToalPts</span><span class="p">))</span>




    <span class="c1">## Actual Results of the Game
</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">6</span><span class="p">):</span>
        <span class="n">LocationRecreate3Actual</span> <span class="o">=</span> <span class="n">GameX</span><span class="p">[(</span><span class="n">GameX</span><span class="p">[</span><span class="s">'LocationCluster'</span><span class="p">]</span><span class="o">==</span><span class="n">i</span><span class="p">)</span><span class="o">&amp;</span> <span class="p">(</span><span class="n">GameX</span><span class="p">[</span><span class="s">'ThreePt'</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">)</span>
                                        <span class="o">&amp;</span> <span class="p">(</span> <span class="n">GameX</span><span class="p">[</span><span class="s">'shooter_name'</span><span class="p">]</span> <span class="o">==</span> <span class="n">PlayerNames</span><span class="p">[</span><span class="n">Name</span><span class="p">])</span>
                                        <span class="o">&amp;</span> <span class="p">(</span> <span class="n">GameX</span><span class="p">[</span><span class="s">'made/missed'</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)]</span>
        <span class="n">NumShotsRecreate3Actual</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">LocationRecreate3Actual</span><span class="p">[</span><span class="s">'made/missed'</span><span class="p">]))</span>
        <span class="n">ExpectedPoints3RecreateActual</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">NumShotsRecreate3Actual</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="mi">3</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">6</span><span class="p">):</span>
        <span class="n">LocationRecreate2Actual</span> <span class="o">=</span> <span class="n">GameX</span><span class="p">[(</span><span class="n">GameX</span><span class="p">[</span><span class="s">'LocationCluster'</span><span class="p">]</span><span class="o">==</span><span class="n">i</span><span class="p">)</span><span class="o">&amp;</span> <span class="p">(</span><span class="n">GameX</span><span class="p">[</span><span class="s">'ThreePt'</span><span class="p">]</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span>
                                        <span class="o">&amp;</span> <span class="p">(</span> <span class="n">GameX</span><span class="p">[</span><span class="s">'shooter_name'</span><span class="p">]</span> <span class="o">==</span> <span class="n">PlayerNames</span><span class="p">[</span><span class="n">Name</span><span class="p">])</span>
                                        <span class="o">&amp;</span> <span class="p">(</span> <span class="n">GameX</span><span class="p">[</span><span class="s">'made/missed'</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)]</span>
        <span class="n">NumShotsRecreate2Actual</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">LocationRecreate2Actual</span><span class="p">[</span><span class="s">'made/missed'</span><span class="p">]))</span>
        <span class="n">ExpectedPoints2RecreateActual</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">NumShotsRecreate2Actual</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="mi">2</span><span class="p">)</span>


    <span class="n">Player3ptsActual</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nb">sum</span><span class="p">(</span><span class="n">ExpectedPoints3RecreateActual</span><span class="p">)</span>
    <span class="n">Player2ptsActual</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nb">sum</span><span class="p">(</span><span class="n">ExpectedPoints2RecreateActual</span><span class="p">)</span>

    <span class="n">PlayerToalPtsActual</span> <span class="o">=</span> <span class="n">Player3ptsActual</span> <span class="o">+</span> <span class="n">Player2ptsActual</span>

    <span class="n">TotalPtsActual</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">PlayerToalPtsActual</span><span class="p">))</span>



    <span class="k">print</span><span class="p">(</span><span class="s">'---------------------------------------------------------------'</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">PlayerNames</span><span class="p">[</span><span class="n">Name</span><span class="p">])</span>
    <span class="k">print</span><span class="p">(</span><span class="s">'Predicted: '</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">PlayerToalPts</span><span class="p">)))</span>
    <span class="k">print</span><span class="p">(</span><span class="s">'Actual: '</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">PlayerToalPtsActual</span><span class="p">))</span>



<span class="n">TotalTotalPts</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nb">sum</span><span class="p">(</span><span class="n">TotalPts</span><span class="p">)</span>
<span class="n">TotalTotalPtsActual</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nb">sum</span><span class="p">(</span><span class="n">TotalPtsActual</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">'---------------------------------------------------------------'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">'---------------------------------------------------------------'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">'Final Jazz Score:'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">'Predicted: '</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">TotalTotalPts</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="s">'Actual: '</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">TotalTotalPtsActual</span><span class="p">))</span>


</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---------------------------------------------------------------
Alec Burks
Predicted: 9
Actual: 16
---------------------------------------------------------------
Derrick Favors
Predicted: 14
Actual: 14
---------------------------------------------------------------
Donovan Mitchell
Predicted: 12
Actual: 6
---------------------------------------------------------------
Ekpe Udoh
Predicted: 0
Actual: 0
---------------------------------------------------------------
Joe Ingles
Predicted: 7
Actual: 11
---------------------------------------------------------------
Joe Johnson
Predicted: 10
Actual: 10
---------------------------------------------------------------
Ricky Rubio
Predicted: 8
Actual: 7
---------------------------------------------------------------
Rodney Hood
Predicted: 4
Actual: 6
---------------------------------------------------------------
Rudy Gobert
Predicted: 11
Actual: 14
---------------------------------------------------------------
Thabo Sefolosha
Predicted: 7
Actual: 6
---------------------------------------------------------------
---------------------------------------------------------------
Final Jazz Score:
Predicted: 82
Actual: 90
</code></pre></div></div>

<p><img src="JazzFirstGame.jpeg" alt="title" /></p>

<h2 id="conclusion">Conclusion:</h2>

<p>We successfully were able to:</p>
<ul>
  <li>Acquire the data needed from ESPN</li>
  <li>Clean the data to extract the needed values for analysis</li>
  <li>Cluster the shots into natural groupings</li>
  <li>Look at expected values for both the team and individuals</li>
  <li>Run significance testing on the data</li>
  <li>Compare home and away games</li>
  <li>Predict a Jazz game outcome using a create model</li>
</ul>

<h3 id="ideas-for-future-study">Ideas for future study:</h3>

<ul>
  <li>
    <p>Effects on fatigue and overshooting in locations</p>
  </li>
  <li>
    <p>Correlation between shot selection and winning</p>
  </li>
  <li>
    <p>Compare losing streak with winning streak</p>
  </li>
  <li>
    <p>Predict fouls and foul shots</p>
  </li>
  <li>
    <p>Evolution of Donovan Mitchell over the season</p>
  </li>
</ul>

        
      </section>

      <footer class="page__meta">
        
        


        
      </footer>

      <section class="page__share">
  
    <h4 class="page__share-title">Share on</h4>
  

  <a href="https://twitter.com/intent/tweet?text=Utah+Jazz%3A+Shot+Analysis%20http%3A%2F%2Flocalhost%3A4000%2Fportfolio%2FTakeYourShot%2FFinalVersion%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Flocalhost%3A4000%2Fportfolio%2FTakeYourShot%2FFinalVersion%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2Flocalhost%3A4000%2Fportfolio%2FTakeYourShot%2FFinalVersion%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/portfolio/SpatialNBAAalysis/" class="pagination--pager" title="NBA Player Tracking
">Previous</a>
    
    
      <a href="/portfolio/TigerKingTweets/" class="pagination--pager" title="Understanding Tiger King through NLP
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">You may also enjoy</h4>
      <div class="grid__wrapper">
        
          
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/firstpost/" rel="permalink">Post Title
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  less than 1 minute read

</p>
    
    <p class="archive__item-excerpt" itemprop="description">THis is my first post…where does it go
</p>
  </article>
</div>

        
      </div>
    </div>
  
</div>

    </div>

    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
          <li><a href="https://twitter.com/A_Very_Data" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
        
      
        
      
        
          <li><a href="https://github.com/AveryData?tab=repositories" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
      
        
      
        
          <li><a href="https://instagram.com/verydata_365" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-instagram" aria-hidden="true"></i> Instagram</a></li>
        
      
    

    <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2020 Avery Smith. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>
  <script src="https://kit.fontawesome.com/4eee35f757.js"></script>










  </body>
</html>
